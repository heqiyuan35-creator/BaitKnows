<h1 _ngcontent-ftv-c119="" class="doc-title ng-star-inserted" title="区划选择"> 区划选择 </h1>

<div _ngcontent-ftv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section11661811099">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section11661811099" tips="复制节点链接"></i></h2>          <p>本章节将介绍如何集成区划选择控件。该控件不支持在智能表设备中调用。</p>     <p>区划选择控件可加载全球或指定国家的区划信息，支持以树状结构化选择，支持功能：</p>     <ul>      <li>支持查看选中区划的下级区划。</li>      <li>支持推荐热门区划。</li>      <li>支持子窗拉起区划控件，适合宽屏设备使用。</li>     </ul>     <div class="tablenoborder">      <div class="tbBox"><table style="border-style: none;" class="layoutFixed idpTab">               <tbody><tr>         <td class="nocellnorowborder" style="border: none;" valign="top" width="50%">          <div class="fignone">           <span class="figcap"><b>图1 </b>选择国家</span>           <br><span><img height="710.051356" originheight="903" originwidth="411" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114558.98853353635943213591242346616482:50001231000000:2800:153E8B5709CBF9611BD6771B6A59B8E8908433CDC8C1796EBC682F203632ECBD.png" title="点击放大" width="323.19"></span>          </div></td>         <td class="cell-norowborder" style="border: none;" valign="top" width="50%">          <div class="fignone">           <span class="figcap"><b>图2 </b>选择省市</span>           <p><span><img height="713.3811440000001" originheight="909" originwidth="408" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114558.07742545525877736766175142896914:50001231000000:2800:E21D9DAADA4B404B6F14C463A09B6BE42E781A9CB0CB34265BFE74A9639883C6.png" title="点击放大" width="320.1975"></span></p>          </div></td>        </tr>        <tr>         <td class="cellrowborder" style="border: none;" valign="top" width="50%">          <div class="fignone">           <span class="figcap"><b>图3 </b>子窗拉起区划控件</span>          </div>          <p><span><img height="365.73244400000004" originheight="547" originwidth="552" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114558.83480795567602312155781801460865:50001231000000:2800:4DAF9F83168E3D08C351F1741340FCC7201404E5A8E58239B753F7F42CD1A730.png" title="点击放大" width="369.07500000000005"></span></p></td>         <td class="cellrowborder" style="border: none;" valign="top" width="50%">&nbsp;&nbsp;</td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section123691321746">约束与限制<i class="anchor-icon anchor-icon-link" anchorid="section123691321746" tips="复制节点链接"></i></h2>          <p>使用该功能需满足以下条件：</p>     <ul>      <li>仅支持手机、平板和2in1设备。</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section196543913133">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section196543913133" tips="复制节点链接"></i></h2>          <p>区划选择控件功能主要由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap" target="_blank">sceneMap</a>命名空间下的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section1567213912302" target="_blank">selectDistrict</a>方法提供，更多接口及使用方法请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap" target="_blank">接口文档</a>。</p>    </div>    <div class="tablenoborder">     <div class="tbBox"><table class="layoutFixed idpTab">      <thead>       <tr>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.3.1.1" valign="top" width="67.96%">         <p>接口名</p></th>        <th align="left" class="cellrowborder" id="mcps1.3.4.1.3.1.2" valign="top" width="32.04%">         <p>描述</p></th>       </tr>      </thead>             <tbody><tr>        <td class="cellrowborder" valign="top" width="67.96%">         <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section17211958161110" target="_blank">DistrictSelectOptions</a></p></td>        <td class="cellrowborder" valign="top" width="32.04%">         <p>区划选择页面初始选项。</p></td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="67.96%">         <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section1567213912302" target="_blank">selectDistrict</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a>, options: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section17211958161110" target="_blank">DistrictSelectOptions</a>): Promise&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section3745121172118" target="_blank">DistrictSelectResult</a>&gt;</p></td>        <td class="cellrowborder" valign="top" width="32.04%">         <p>调出区划选择页面。</p></td>       </tr>       <tr>        <td class="cellrowborder" valign="top" width="67.96%">         <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section3745121172118" target="_blank">DistrictSelectResult</a></p></td>        <td class="cellrowborder" valign="top" width="32.04%">         <p>区划选择结果。</p></td>       </tr>           </tbody></table></div>    </div>    <div class="tiledSection">     <h2 id="section72961091618">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section72961091618" tips="复制节点链接"></i></h2>          <ol>      <li>导入相关模块。       <div _ngcontent-ftv-c106="" class="highlight-div"><div _ngcontent-ftv-c106="" class="highlight-div-header"><div _ngcontent-ftv-c106="" class="highlight-div-header-left"><div _ngcontent-ftv-c106="" class="handle-button expand-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ftv-c106="" class="highlight-div-header-right"><div _ngcontent-ftv-c106="" class="handle-button ai-button"></div><div _ngcontent-ftv-c106="" class="handle-button line-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ftv-c106="" class="handle-button theme-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ftv-c106="" class="handle-button copy-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ftv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { sceneMap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MapKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div></li>      <li>创建区划选择请求参数，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-scenemap#section1567213912302" target="_blank">selectDistrict</a>方法拉起区划选择页。       <div _ngcontent-ftv-c106="" class="highlight-div"><div _ngcontent-ftv-c106="" class="highlight-div-header"><div _ngcontent-ftv-c106="" class="highlight-div-header-left"><div _ngcontent-ftv-c106="" class="handle-button expand-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ftv-c106="" class="highlight-div-header-right"><div _ngcontent-ftv-c106="" class="handle-button ai-button"></div><div _ngcontent-ftv-c106="" class="handle-button line-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ftv-c106="" class="handle-button theme-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ftv-c106="" class="handle-button copy-button"><div _ngcontent-ftv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ftv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">districtSelectOptions</span>: sceneMap.<span class="hljs-property">DistrictSelectOptions</span> = {</li><li>  <span class="hljs-attr">countryCode</span>: <span class="hljs-string">"CN"</span>,</li><li>  <span class="hljs-comment">// 使用子窗拉起方式</span></li><li>  <span class="hljs-attr">subWindowEnabled</span>: <span class="hljs-literal">true</span></li><li>};</li><li><span class="hljs-comment">// 拉起区划选择页</span></li><li>sceneMap.<span class="hljs-title function_">selectDistrict</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), districtSelectOptions).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"SelectDistrict"</span>, <span class="hljs-string">"Succeeded in selecting district."</span>);</li><li>}).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"SelectDistrict"</span>, <span class="hljs-string">`Failed to select district, code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);</li><li>});</li></ol></pre></div></div></li>     </ol>    </div>   </div>   <div></div></div>