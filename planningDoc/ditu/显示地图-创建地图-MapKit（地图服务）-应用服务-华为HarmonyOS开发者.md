<h1 _ngcontent-ypm-c119="" class="doc-title ng-star-inserted" title="显示地图"> 显示地图 </h1>

<div _ngcontent-ypm-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section1880231055910">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section1880231055910" tips="复制节点链接"></i></h2>          <p>从5.0.3(15)开始，支持Logo缩放功能和3D地球功能；从5.1.1(19)开始，支持室内图功能和设置比例尺单位功能；从6.0.0(20)开始，支持设置地图语言功能。</p>     <p>本章节将向您介绍如何使用地图组件<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-mapcomponent#section816451553012" target="_blank">MapComponent</a>和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">MapComponentController</a>呈现地图，效果如下图所示。</p>     <p><span><img height="665.394345" originheight="900" originwidth="459" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.37306428705457779125975159575677:50001231000000:2800:2DB583EE0CF1D405C89A8F109AD0BAD592DF2C2A334762C4EF9089922C78CEC8.png" title="点击放大" width="339.34245100000004"></span></p>    </div>    <div class="tiledSection">     <h2 id="section41628814378">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section41628814378" tips="复制节点链接"></i></h2>          <p>显示地图功能主要由<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-mapcomponent#section816451553012" target="_blank">MapComponent</a>提供，更多接口及使用方法请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-mapcomponent" target="_blank">接口文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.1" valign="top" width="69.39%">          <p>接口</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.2" valign="top" width="30.61%">          <p>接口描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="69.39%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-common#section816451553012" target="_blank">mapCommon.MapOptions</a></p></td>         <td class="cellrowborder" valign="top" width="30.61%">          <p>提供Map组件初始化的属性。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="69.39%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-mapcomponent#section816451553012" target="_blank">MapComponent</a>(mapOptions: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-common#section816451553012" target="_blank">mapCommon.MapOptions</a>, mapCallback: AsyncCallback&lt;<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">map.MapComponentController</a>&gt;)</p></td>         <td class="cellrowborder" valign="top" width="30.61%">          <p>地图组件。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="69.39%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">map.MapComponentController</a></p></td>         <td class="cellrowborder" valign="top" width="30.61%">          <p>地图组件的主要功能入口类，用来操作地图，与地图有关的所有方法从此处接入。它所承载的工作包括：地图类型切换（如标准地图、空地图）、改变地图状态（中心点坐标和缩放级别）、添加点标记（Marker）、绘制几何图形(如MapPolyline、MapPolygon、MapCircle)、监听各类事件等。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section9187179113620">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section9187179113620" tips="复制节点链接"></i></h2>         </div>    <div class="tiledSection">     <h3 id="section17751438104210" class="firsth2">地图显示<i class="anchor-icon anchor-icon-link" anchorid="section17751438104210" tips="复制节点链接"></i></h3>          <ol>      <li>导入Map Kit相关模块。       <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MapComponent</span>, mapCommon, map } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MapKit'</span>;</li><li><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AsyncCallback</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;</li></ol></pre></div></div></li>      <li>新建地图初始化参数mapOptions，设置地图中心点坐标及层级。       <p>通过callback回调的方式获取<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">MapComponentController</a>对象，用来操作地图。</p>       <p>调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-mapcomponent#section816451553012" target="_blank">MapComponent</a>组件，传入mapOptions和mapCallback参数，初始化地图。</p>       <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-meta">@Entry</span></li><li><span class="hljs-meta">@Component</span></li><li>struct <span class="hljs-title class_">HuaweiMapDemo</span> {</li><li>  <span class="hljs-keyword">private</span> <span class="hljs-variable constant_">TAG</span> = <span class="hljs-string">"HuaweiMapDemo"</span>;</li><li>  <span class="hljs-keyword">private</span> mapOptions?: mapCommon.<span class="hljs-property">MapOptions</span>;</li><li>  <span class="hljs-keyword">private</span> callback?: <span class="hljs-title class_">AsyncCallback</span>&lt;map.<span class="hljs-property">MapComponentController</span>&gt;;</li><li>  <span class="hljs-keyword">private</span> mapController?: map.<span class="hljs-property">MapComponentController</span>;</li><li>  <span class="hljs-keyword">private</span> mapEventManager?: map.<span class="hljs-property">MapEventManager</span>;</li><li>
</li><li>  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 地图初始化参数，设置地图中心点坐标及层级</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span> = {</li><li>      <span class="hljs-attr">position</span>: {</li><li>        <span class="hljs-attr">target</span>: {</li><li>          <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.9</span>,</li><li>          <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.4</span></li><li>        },</li><li>        <span class="hljs-attr">zoom</span>: <span class="hljs-number">10</span></li><li>      }</li><li>    };</li><li>
</li><li>    <span class="hljs-comment">// 地图初始化的回调</span></li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callback</span> = <span class="hljs-keyword">async</span> (err, mapController) =&gt; {</li><li>      <span class="hljs-keyword">if</span> (!err) {</li><li>        <span class="hljs-comment">// 获取地图的控制器类，用来操作地图</span></li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span> = mapController;</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapEventManager</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">getEventManager</span>();</li><li>        <span class="hljs-keyword">let</span> <span class="hljs-title function_">callback</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">`on-mapLoad`</span>);</li><li>        }</li><li>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapEventManager</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"mapLoad"</span>, callback);</li><li>      } <span class="hljs-keyword">else</span> {</li><li>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to initialize the map, code is：<span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);</li><li>      }</li><li>    };</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 页面每次显示时触发一次，包括路由过程、应用进入前台等场景，仅@Entry装饰的自定义组件生效</span></li><li>  <span class="hljs-title function_">onPageShow</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 将地图切换到前台</span></li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">show</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-comment">// 页面每次隐藏时触发一次，包括路由过程、应用进入后台等场景，仅@Entry装饰的自定义组件生效</span></li><li>  <span class="hljs-title function_">onPageHide</span>(): <span class="hljs-built_in">void</span> {</li><li>    <span class="hljs-comment">// 将地图切换到后台</span></li><li>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>) {</li><li>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">hide</span>();</li><li>    }</li><li>  }</li><li>
</li><li>  <span class="hljs-title function_">build</span>(<span class="hljs-params"></span>) {</li><li>    <span class="hljs-title class_">Stack</span>() {</li><li>      <span class="hljs-comment">// 调用MapComponent组件初始化地图</span></li><li>      <span class="hljs-title class_">MapComponent</span>({ <span class="hljs-attr">mapOptions</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span>, <span class="hljs-attr">mapCallback</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">callback</span> }).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>);</li><li>    }.<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)</li><li>  }</li><li>}</li></ol></pre></div></div></li>      <li>运行您刚完成的工程就可以在您的APP中看到地图了，运行后的效果如下图所示。       <p>如果没有成功加载地图，请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/map-faq-1">地图不显示</a>。</p>       <p><span><img height="665.394345" originheight="900" originwidth="459" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.42067501239417249896642738048997:50001231000000:2800:50A77E4DA95B615B1BD9BAA3DBCD2DB35E75A94F78928ABD16A7A8F323A54E1C.png" title="点击放大" width="339.34245100000004"></span></p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section13857164985115">设置地图属性<i class="anchor-icon anchor-icon-link" anchorid="section13857164985115" tips="复制节点链接"></i></h3>          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-common#section816451553012" target="_blank">MapOptions</a>包含以下属性。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.3.1.1" valign="top" width="30.61%">          <p>属性</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.3.1.2" valign="top" width="69.39%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>mapType</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>地图类型，默认值：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-common#section18522846142615" target="_blank">MapType</a>.STANDARD。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>position</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>地图相机位置。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>bounds</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>地图展示框。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>minZoom</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>地图最小图层，有效范围[2, 20]，默认值：2。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>maxZoom</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>地图最大图层，有效范围[2, 20]，默认值：20。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>rotateGesturesEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否支持旋转手势，默认值：true。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>scrollGesturesEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否支持滑动手势，默认值：true。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>zoomGesturesEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否支持缩放手势，默认值：true。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>tiltGesturesEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否支持倾斜手势，默认值：true。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>zoomControlsEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否展示缩放控件，默认值：true。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>myLocationControlsEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否展示我的位置按钮，默认值：false。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>compassControlsEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否展示指南针控件，默认值：true。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>scaleControlsEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否展示比例尺，默认值：false。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>alwaysShowScaleEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否始终显示比例尺，默认值：false。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>padding</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>设置地图和边界的距离。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>styleId</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>自定义样式ID。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>dayNightMode</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>日间夜间模式，默认值：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-common#section634916281725" target="_blank">DayNightMode</a>.DAY（日间模式）。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>logoScale</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>Logo缩放比例，取值范围是[0.8, 1]，默认值：1。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>sphereEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否开启3D地球效果，默认值为false。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>indoorMapEnabled</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>是否开启室内图，默认值：false。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="30.61%">          <p>scaleUnit</p></td>         <td class="cellrowborder" valign="top" width="69.39%">          <p>地图比例尺公英制单位，默认值：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-common#section2230143218276" target="_blank">ScaleUnit</a>.METRIC_UNIT（公制单位）。</p></td>        </tr>             </tbody></table></div>     </div>     <ol>      <li>设置mapType，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/map-type">切换地图类型</a>章节中有详细讲解。</li>      <li>设置myLocationControlsEnabled，展示我的位置按钮。       <p>在mapOptions中设置myLocationControlsEnabled属性为true，可展示我的位置按钮<span><img originheight="18" originwidth="19" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.59796351590357156137710049927577:50001231000000:2800:497C809E286AD5240F54A5CDA67744757C270AA2EFD0A57D1C81951F212AAC38.png" class="IconPic notEnlarge" width="19" height="18"></span>，显示效果如下图所示。</p>       <div class="p">        也可通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">MapComponentController</a>对象的方法展示我的位置按钮，详情见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/map-location">显示我的位置</a>章节。        <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span> = {</li><li>  <span class="hljs-attr">position</span>: {</li><li>    <span class="hljs-attr">target</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.9</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.4</span></li><li>    },</li><li>    <span class="hljs-attr">zoom</span>: <span class="hljs-number">10</span></li><li>  },</li><li>  <span class="hljs-attr">myLocationControlsEnabled</span>: <span class="hljs-literal">true</span></li><li>};</li></ol></pre></div></div>       </div>       <p><span><img originheight="546" originwidth="390" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.28161143280031796441651106008066:50001231000000:2800:25C21070099D528064CD52BA717151350542389E9F2B133DD2CFF245613A0974.png" width="390" height="546"></span></p></li>      <li>展示比例尺。       <p>在mapOptions中设置scaleControlsEnabled属性为true，可展示比例尺，显示效果如下图所示。</p>       <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span> = {</li><li>  <span class="hljs-attr">position</span>: {</li><li>    <span class="hljs-attr">target</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.9</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.4</span></li><li>    },</li><li>    <span class="hljs-attr">zoom</span>: <span class="hljs-number">10</span></li><li>  },</li><li>  <span class="hljs-attr">scaleControlsEnabled</span>: <span class="hljs-literal">true</span></li><li>};</li></ol></pre></div></div>       <p><span><img originheight="426" originwidth="393" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.68224889204775861948203481967810:50001231000000:2800:B84381CD447F6C60B2F8B09D370C40B978106813CEC70F30C26894ECBFAB53E6.png" width="393" height="426"></span></p></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section6308301456">开启3D建筑图层<i class="anchor-icon anchor-icon-link" anchorid="section6308301456" tips="复制节点链接"></i></h3>          <div class="p">      调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">MapComponentController</a>对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section15905291318" target="_blank">setBuildingEnabled</a>方法开启3D建筑图层，<span style="color: rgb(36,39,40);">将两个手指放在地图上，向上滑动倾斜地图可看到3D建筑图层的效果</span>。      <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">setBuildingEnabled</span>(<span class="hljs-literal">true</span>);</li></ol></pre></div></div>     </div>     <p>显示效果如下：</p>     <p><span><img height="389.165714" originheight="390" originwidth="310" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.98862656952957285706517638646240:50001231000000:2800:E57DD83EA831014E1B96C1D0E34B52A9B6AF78C15DB0EFE80C44C1A806BE462D.png" title="点击放大" width="309.32275500000003"></span></p>     <p></p>    </div>    <div class="tiledSection">     <h3 id="section17793252830">地图前后台切换<i class="anchor-icon anchor-icon-link" anchorid="section17793252830" tips="复制节点链接"></i></h3>          <p>您可以通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">MapComponentController</a>对象来控制地图页面前后台切换的生命周期。应用触发前后台切换时，可以在Page生命周期里调用show/hide，以便申请/释放资源。</p>     <p><strong style="color: rgb(38,38,38);">地图切换至前台：</strong></p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 页面每次显示时触发一次，包括路由过程、应用进入前台等场景，仅@Entry装饰的自定义组件生效</span></li><li><span class="hljs-title function_">onPageShow</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 建议页面切换到前台，调用地图组件的show方法 </span></li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">show</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>     <p><strong style="color: rgb(38,38,38);">地图切换至后台：</strong></p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 页面每次隐藏时触发一次，包括路由过程、应用进入后台等场景，仅@Entry装饰的自定义组件生效</span></li><li><span class="hljs-title function_">onPageHide</span>(): <span class="hljs-built_in">void</span> {</li><li>  <span class="hljs-comment">// 建议页面切换到后台，调用地图组件的hide方法</span></li><li>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>) {</li><li>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">hide</span>();</li><li>  }</li><li>}</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section511983811718">深色模式<i class="anchor-icon anchor-icon-link" anchorid="section511983811718" tips="复制节点链接"></i></h3>          <p>Map Kit提供2种方式设置地图的夜间模式：初始化地图时和创建地图后。</p>     <p>方式一：初始化地图时</p>     <div class="p">      在地图初始化参数中设置dayNightMode参数，参数可选值包括DAY（日间模式）、NIGHT（夜间模式）、AUTO（自动模式）。如果将参数值设置为AUTO，地图的深色模式会跟随系统，打开系统深色开关，显示夜间模式，否则显示日间模式。      <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span> = {</li><li>  <span class="hljs-attr">position</span>: {</li><li>    <span class="hljs-attr">target</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.9</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.4</span></li><li>    },</li><li>    <span class="hljs-attr">zoom</span>: <span class="hljs-number">10</span></li><li>  },</li><li>  <span class="hljs-attr">myLocationControlsEnabled</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-comment">// 设置地图为夜间模式</span></li><li>  <span class="hljs-attr">dayNightMode</span>: mapCommon.<span class="hljs-property">DayNightMode</span>.<span class="hljs-property">NIGHT</span></li><li>};</li></ol></pre></div></div>     </div>     <p><span><img originheight="486" originwidth="315" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.08589378999659549601027591424345:50001231000000:2800:396A00136CBF877CCFAC8C9A7348EC5470C8758AD123576FCABA5F717E5B64DA.png" width="315" height="486"></span></p>     <p>方式二：创建地图后</p>     <p>创建地图后，可调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">MapComponentController</a>对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section123945545109" target="_blank">setDayNightMode</a>方法设置夜间模式。下面的例子中将参数值设置为AUTO，在设置完之后，打开系统的深色开关，地图会自动变为夜间模式。</p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 设置地图为自动模式</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">setDayNightMode</span>(mapCommon.<span class="hljs-property">DayNightMode</span>.<span class="hljs-property">AUTO</span>);</li></ol></pre></div></div>    </div>    <div class="tiledSection">     <h3 id="section75910919918">室内图<i class="anchor-icon anchor-icon-link" anchorid="section75910919918" tips="复制节点链接"></i></h3>          <p>使用室内图可查看楼层平面图，如查看购物中心、博物馆和医院等地点的内部情况。开启3D地图后无法显示室内图。</p>     <p>Map Kit提供2种方式开启地图的室内图功能：初始化地图时和创建地图后。</p>     <p>方式一：初始化地图时</p>     <div class="p">      在地图初始化参数中设置将<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-common#section816451553012" target="_blank">MapOptions</a>中的indoorMapEnabled参数设置为true即可开启室内图功能，而且仅17级及以上地图层级可见室内图，仅18级及以上地图层级可见楼层调节控件，通过左下角的楼层调节控件可以切换当前室内图楼层。      <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span> = {</li><li>  <span class="hljs-attr">position</span>: {</li><li>    <span class="hljs-attr">target</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">31.979227</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">118.762245</span></li><li>    },</li><li>    <span class="hljs-attr">zoom</span>: <span class="hljs-number">18</span></li><li>  },</li><li>  <span class="hljs-comment">// 开启室内图功能</span></li><li>  <span class="hljs-attr">indoorMapEnabled</span>: <span class="hljs-literal">true</span></li><li>};</li></ol></pre></div></div>     </div>     <p><span><img height="576.3136049999999" originheight="747" originwidth="384" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.41606105774585154184060197863898:50001231000000:2800:5E56524219B110FB18816C0E38A8F770E7E0D96F414E787415B8E64F0BD2112A.png" title="点击放大" width="296.2575"></span></p>     <p>方式二：创建地图后</p>     <p>创建地图后，可调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller" target="_blank">MapComponentController</a>对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section12159164214612" target="_blank">setIndoorMapEnabled</a>方法来开启或关闭室内图功能。下面的例子中将室内图开启后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section820584761611" target="_blank">isIndoorMapEnabled</a>方法来查询当前室内图功能的开启状态，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section53651918173410" target="_blank">setFloorControlsPosition</a>方法可以设置楼层调节控件的位置。室内图功能还提供了<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section15944125342513" target="_blank">switchIndoorMapFloor</a>方法，可以切换到指定的室内建筑和指定的楼层。</p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 开启室内图功能</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">setIndoorMapEnabled</span>(<span class="hljs-literal">true</span>);</li><li><span class="hljs-comment">// 查询当前室内图开启状态</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">isIndoorMapEnabled</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">isIndoorMapEnabled</span>();</li><li><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'indoorMapEnabled is:'</span> + isIndoorMapEnabled);</li><li><span class="hljs-comment">// 设置楼层调节控件的位置</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">setFloorControlsPosition</span>({</li><li>  <span class="hljs-attr">positionX</span>: <span class="hljs-number">500</span>,</li><li>  <span class="hljs-attr">positionY</span>: <span class="hljs-number">500</span></li><li>});</li><li><span class="hljs-comment">// 切换楼层,需要将第一个入参替换成用户需要的建筑物id，第二个参数替换成当前楼层，如'1F'、'B1'等等</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">switchIndoorMapFloor</span>(<span class="hljs-string">'822588304363886720'</span>, <span class="hljs-string">'3F'</span>);</li></ol></pre></div></div>    </div>    <p>通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapeventmanager#section76731728143918" target="_blank">on('indoorMapEnter')</a>方法和<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapeventmanager#section15867173119615" target="_blank">on('indoorMapExit')</a>可以分别设置进入和退出室内图的监听事件。</p>    <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callbackEnter</span> = (<span class="hljs-params">indoorMapInfo: map.IndoorMapInfo</span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">`on-indoorMapEnter`</span>);</li><li>};</li><li><span class="hljs-keyword">let</span> <span class="hljs-title function_">callbackExit</span> = (<span class="hljs-params"></span>) =&gt; {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">`on-indoorMapExit`</span>);</li><li>};</li><li><span class="hljs-comment">// 进入室内图监听回调</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapEventManager</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"indoorMapEnter"</span>, callbackEnter);</li><li><span class="hljs-comment">// 退出室内图监听回调</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapEventManager</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">"indoorMapExit"</span>, callbackExit);</li></ol></pre></div></div>    <div class="tiledSection">     <h3 id="section14596124816177">Logo缩放比例<i class="anchor-icon anchor-icon-link" anchorid="section14596124816177" tips="复制节点链接"></i></h3>          <p>Map Kit提供2种方式设置地图的Logo缩放比例：初始化地图时和创建地图后。</p>     <p>方式一：初始化地图时</p>     <p>在地图初始化参数中设置logoScale参数，取值范围是[0.8, 1]，默认值是1。</p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span> = {</li><li>  <span class="hljs-attr">position</span>: {</li><li>    <span class="hljs-attr">target</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.9</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.4</span></li><li>    },</li><li>    <span class="hljs-attr">zoom</span>: <span class="hljs-number">10</span></li><li>  },</li><li>  <span class="hljs-attr">myLocationControlsEnabled</span>: <span class="hljs-literal">true</span>,</li><li>  <span class="hljs-comment">// 设置logo缩放比例为0.9</span></li><li>  <span class="hljs-attr">logoScale</span>: <span class="hljs-number">0.9</span></li><li>};</li></ol></pre></div></div>     <p>方式二：创建地图后</p>     <ol>      <li>创建地图后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section816451553012" target="_blank">MapComponentController</a>对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section205343210177" target="_blank">setLogoScale</a>方法设置Logo缩放比例。       <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">setLogoScale</span>(<span class="hljs-number">0.9</span>);</li></ol></pre></div></div></li>      <li><span style="color: rgb(38,38,38);">获取Logo缩放比例。</span>       <p>通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section816451553012" target="_blank">MapComponentController</a>对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section18243711173212" target="_blank">getLogoScale</a>方法获取当前Logo缩放比例。</p>       <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">let</span> <span class="hljs-attr">logoScale</span>: <span class="hljs-built_in">number</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">getLogoScale</span>();</li></ol></pre></div></div></li>     </ol>    </div>    <div class="tiledSection">     <h3 id="section143177134122">开启3D地球<i class="anchor-icon anchor-icon-link" anchorid="section143177134122" tips="复制节点链接"></i></h3>          <p>Map Kit提供2种方式开启3D地球：初始化地图时和创建地图后。</p>     <p><span style="color: rgb(36,39,40);">开启3D地球后，将地图缩放可看到3D地球的效果</span>。</p>     <p>方式一：初始化地图时</p>     <p>在地图初始化参数中设置3D地球的开启状态，默认值是false。</p>     <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapOptions</span> = {</li><li>  <span class="hljs-attr">position</span>: {</li><li>    <span class="hljs-attr">target</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.9</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.4</span></li><li>    },</li><li>    <span class="hljs-attr">zoom</span>: <span class="hljs-number">2</span></li><li>  },</li><li>  <span class="hljs-comment">// 开启3D地球</span></li><li>  <span class="hljs-attr">sphereEnabled</span>: <span class="hljs-literal">true</span></li><li>};</li></ol></pre></div></div>     <p>方式二：创建地图后</p>     <div class="p">      创建地图后，调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section816451553012" target="_blank">MapComponentController</a>对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section67801022102716" target="_blank">setSphereEnabled</a>方法开启3D地球，通过调用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section816451553012" target="_blank">MapComponentController</a>对象的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-map-mapcomponentcontroller#section1825143352110" target="_blank">isSphereEnabled</a>方法可获取<span style="color: rgb(38,38,38);">3D地球的开启状态</span>。      <div _ngcontent-ypm-c106="" class="highlight-div"><div _ngcontent-ypm-c106="" class="highlight-div-header"><div _ngcontent-ypm-c106="" class="highlight-div-header-left"><div _ngcontent-ypm-c106="" class="handle-button expand-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ypm-c106="" class="highlight-div-header-right"><div _ngcontent-ypm-c106="" class="handle-button ai-button"></div><div _ngcontent-ypm-c106="" class="handle-button line-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ypm-c106="" class="handle-button theme-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ypm-c106="" class="handle-button copy-button"><div _ngcontent-ypm-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ypm-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-comment">// 开启3D地球</span></li><li><span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">setSphereEnabled</span>(<span class="hljs-literal">true</span>);</li><li><span class="hljs-comment">// 获取3D地球的开启状态</span></li><li><span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">mapController</span>.<span class="hljs-title function_">isSphereEnabled</span>();</li></ol></pre></div></div>     </div>     <p>显示效果如下：</p>     <p><span><img height="513.310441" originheight="698" originwidth="392" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114532.75888050415279624895623095292356:50001231000000:2800:3C062411F7DFCE5FC986334A2F533434A134A0156A27BE03BD7FBA8256E766CB.png" title="点击放大" width="288.27750000000003"></span></p>    </div>   </div>   <div></div></div>