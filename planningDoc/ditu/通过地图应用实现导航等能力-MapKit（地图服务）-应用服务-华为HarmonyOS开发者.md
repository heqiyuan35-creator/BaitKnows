<h1 _ngcontent-ulv-c119="" class="doc-title ng-star-inserted" title="通过地图应用实现导航等能力"> 通过地图应用实现导航等能力 </h1>

<div _ngcontent-ulv-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;">   <div>    <div class="tiledSection">     <h2 id="section1045991317315">场景介绍<i class="anchor-icon anchor-icon-link" anchorid="section1045991317315" tips="复制节点链接"></i></h2>          <p>从5.0.3(15)开始，支持地图应用首页、搜索地点、查看地点详情、规划路线和进行导航功能；从6.0.1(21)开始，支持地图应用发起打车功能。</p>     <p>本章节将向您介绍如何打开地图应用实现如下能力：</p>     <ul>      <li>打开地图应用首页</li>      <li>打开地图应用搜索地点</li>      <li>打开地图应用查看地点详情</li>      <li>打开地图应用规划路线</li>      <li>打开地图应用进行导航</li>      <li>打开地图应用发起打车</li>     </ul>    </div>    <div class="tiledSection">     <h2 id="section116043716599">接口说明<i class="anchor-icon anchor-icon-link" anchorid="section116043716599" tips="复制节点链接"></i></h2>          <p>调用地图应用的功能主要通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps" target="_blank">petalMaps</a>命名空间下的<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1117619561413" target="_blank">openMapHomePage</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section2098315915160" target="_blank">openMapTextSearch</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section14159526181316" target="_blank">openMapPoiDetail</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1765318218173" target="_blank">openMapRoutePlan</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section16894648175" target="_blank">openMapNavi</a>、<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section147354416415" target="_blank">openMapTaxi</a>等接口实现，更多接口及使用方法请参见<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps" target="_blank">接口文档</a>。</p>     <div class="tablenoborder">      <div class="tbBox"><table class="layoutFixed idpTab">       <thead>        <tr>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.1" valign="top" width="54.510000000000005%">          <p>接口说明</p></th>         <th align="left" class="cellrowborder" id="mcps1.3.2.3.1.3.1.2" valign="top" width="45.49%">          <p>描述</p></th>        </tr>       </thead>               <tbody><tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section810823717266" target="_blank">TextSearchParams</a></p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>文本搜索的参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1555293218278" target="_blank">PoiDetailParams</a></p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>POI详情的参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section491624219261" target="_blank">RoutePlanParams</a></p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>路线规划的参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section7249174522611" target="_blank">NaviParams</a></p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>导航的参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1625316256212" target="_blank">TaxiParams</a></p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>打车的参数。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1117619561413" target="_blank">openMapHomePage</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a>): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>打开地图应用首页。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section2098315915160" target="_blank">openMapTextSearch</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a>, textSearchParams: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section810823717266" target="_blank">TextSearchParams</a>): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>打开地图应用搜索地点。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section14159526181316" target="_blank">openMapPoiDetail</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a>, poiDetailParams: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1555293218278" target="_blank">PoiDetailParams</a>): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>打开地图应用查看地点详情。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1765318218173" target="_blank">openMapRoutePlan</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a>, routePlanParams: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section491624219261" target="_blank">RoutePlanParams</a>): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>打开地图应用规划路线。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section16894648175" target="_blank">openMapNavi</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a>, naviParams: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section7249174522611" target="_blank">NaviParams</a>): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>打开地图应用进行导航。</p></td>        </tr>        <tr>         <td class="cellrowborder" valign="top" width="54.510000000000005%">          <p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section147354416415" target="_blank">openMapTaxi</a>(context: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context" target="_blank">common.Context</a>, taxiParams: <a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1625316256212" target="_blank">TaxiParams</a>): Promise&lt;void&gt;</p></td>         <td class="cellrowborder" valign="top" width="45.49%">          <p>打开地图应用打车页面。</p></td>        </tr>             </tbody></table></div>     </div>    </div>    <div class="tiledSection">     <h2 id="section128689184916">地图应用使用的坐标类型<i class="anchor-icon anchor-icon-link" anchorid="section128689184916" tips="复制节点链接"></i></h2>          <p>在国内站点，中国大陆使用GCJ02坐标系，中国台湾使用WGS84坐标系。</p>     <p>在海外站点，统一使用WGS84坐标系。坐标系转换参考：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/map-convert-coordinate">坐标纠偏</a>。</p>    </div>    <div class="tiledSection">     <h2 id="section1197220413445">开发步骤<i class="anchor-icon anchor-icon-link" anchorid="section1197220413445" tips="复制节点链接"></i></h2>          <p>导入相关模块</p>    </div>    <div _ngcontent-ulv-c106="" class="highlight-div"><div _ngcontent-ulv-c106="" class="highlight-div-header"><div _ngcontent-ulv-c106="" class="highlight-div-header-left"><div _ngcontent-ulv-c106="" class="handle-button expand-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ulv-c106="" class="highlight-div-header-right"><div _ngcontent-ulv-c106="" class="handle-button ai-button"></div><div _ngcontent-ulv-c106="" class="handle-button line-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ulv-c106="" class="handle-button theme-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ulv-c106="" class="handle-button copy-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ulv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">import</span> { petalMaps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MapKit'</span></li></ol></pre></div></div>    <div class="tiledSection">     <h3 id="section19358151974410" class="firsth2">打开地图应用首页<i class="anchor-icon anchor-icon-link" anchorid="section19358151974410" tips="复制节点链接"></i></h3>          <p>通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1117619561413" target="_blank">openMapHomePage</a>，打开地图应用首页。</p>     <div _ngcontent-ulv-c106="" class="highlight-div"><div _ngcontent-ulv-c106="" class="highlight-div-header"><div _ngcontent-ulv-c106="" class="highlight-div-header-left"><div _ngcontent-ulv-c106="" class="handle-button expand-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ulv-c106="" class="highlight-div-header-right"><div _ngcontent-ulv-c106="" class="handle-button ai-button"></div><div _ngcontent-ulv-c106="" class="handle-button line-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ulv-c106="" class="handle-button theme-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ulv-c106="" class="handle-button copy-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ulv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">await</span> petalMaps.<span class="hljs-title function_">openMapHomePage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>());</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`code:<span class="hljs-subst">${e.code}</span>, message:<span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     <div class="p">      <div class="fignone">       <span class="figcap"><b>图1 </b>打开地图应用首页</span>      </div>     </div>     <p><span><img height="733.3320750000001" originheight="2232" originwidth="1008" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114525.41350348746412078139355198923250:50001231000000:2800:EA13DA25182F0419854E5AD30024B1B55F19B9046DC9BF2CDCF61616082304DF.jpg" title="点击放大" width="331.17"></span></p>     <p></p>    </div>    <div class="tiledSection">     <h3 id="section21255341458">打开地图应用进行地点搜索<i class="anchor-icon anchor-icon-link" anchorid="section21255341458" tips="复制节点链接"></i></h3>          <div class="p">      通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section2098315915160" target="_blank">openMapTextSearch</a>，传入搜索目标名称，打开地图应用进行地点搜索。      <div _ngcontent-ulv-c106="" class="highlight-div"><div _ngcontent-ulv-c106="" class="highlight-div-header"><div _ngcontent-ulv-c106="" class="highlight-div-header-left"><div _ngcontent-ulv-c106="" class="handle-button expand-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ulv-c106="" class="highlight-div-header-right"><div _ngcontent-ulv-c106="" class="handle-button ai-button"></div><div _ngcontent-ulv-c106="" class="handle-button line-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ulv-c106="" class="handle-button theme-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ulv-c106="" class="handle-button copy-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ulv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">params</span>: petalMaps.<span class="hljs-property">TextSearchParams</span> = {</li><li>    <span class="hljs-attr">destinationName</span>: <span class="hljs-string">'云谷'</span></li><li>  };</li><li>  <span class="hljs-keyword">await</span> petalMaps.<span class="hljs-title function_">openMapTextSearch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), params);</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`code:<span class="hljs-subst">${e.code}</span>, message:<span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     </div>     <div class="p">      <div class="fignone">       <span class="figcap"><b>图2 </b>打开地图应用进行地点搜索</span>       <p><span><img height="747.4766250000001" originheight="2688" originwidth="1216" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114525.01325470337792720271321298024940:50001231000000:2800:491BE7606FFCF09FEF08DACEA830A4CF83C68060A3A4AB5CC9CC666306FF88F8.jpg" title="点击放大" width="338.15250000000003"></span></p>       <p></p>      </div>     </div>    </div>    <div class="tiledSection">     <h3 id="section18701134217444">打开地图应用查看地点详情<i class="anchor-icon anchor-icon-link" anchorid="section18701134217444" tips="复制节点链接"></i></h3>          <div class="p">      通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section14159526181316" target="_blank">openMapPoiDetail</a>，传入地点的经纬度，打开地图应用查看地点详情。      <div _ngcontent-ulv-c106="" class="highlight-div"><div _ngcontent-ulv-c106="" class="highlight-div-header"><div _ngcontent-ulv-c106="" class="highlight-div-header-left"><div _ngcontent-ulv-c106="" class="handle-button expand-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ulv-c106="" class="highlight-div-header-right"><div _ngcontent-ulv-c106="" class="handle-button ai-button"></div><div _ngcontent-ulv-c106="" class="handle-button line-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ulv-c106="" class="handle-button theme-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ulv-c106="" class="handle-button copy-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ulv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">params</span>: petalMaps.<span class="hljs-property">PoiDetailParams</span> = {</li><li>    <span class="hljs-attr">destinationPosition</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">32.02065982629459</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">118.788899213002</span></li><li>    },</li><li>    <span class="hljs-attr">destinationPoiId</span>: <span class="hljs-string">'563233191438217472'</span></li><li>  };</li><li>  <span class="hljs-keyword">await</span> petalMaps.<span class="hljs-title function_">openMapPoiDetail</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), params);</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`code:<span class="hljs-subst">${e.code}</span>, message:<span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     </div>     <div class="p">      <div class="fignone">       <span class="figcap"><b>图3 </b>打开地图应用查看地点详情</span>       <br><span><img height="689.0730000000001" originheight="2720" originwidth="1260" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114526.90057851914323555813893461939750:50001231000000:2800:AC78356F991ED45C87DAE85B427B79971AFFF7F0959E799E7A648B7897F47485.png" title="点击放大" width="319.20000000000005"></span>      </div>     </div>    </div>    <div class="tiledSection">     <h3 id="section95400034511">打开地图应用规划路线<i class="anchor-icon anchor-icon-link" anchorid="section95400034511" tips="复制节点链接"></i></h3>          <div class="p">      通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section1765318218173" target="_blank">openMapRoutePlan</a>，传入终点经纬度，打开地图应用规划路线。      <div _ngcontent-ulv-c106="" class="highlight-div"><div _ngcontent-ulv-c106="" class="highlight-div-header"><div _ngcontent-ulv-c106="" class="highlight-div-header-left"><div _ngcontent-ulv-c106="" class="handle-button expand-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ulv-c106="" class="highlight-div-header-right"><div _ngcontent-ulv-c106="" class="handle-button ai-button"></div><div _ngcontent-ulv-c106="" class="handle-button line-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ulv-c106="" class="handle-button theme-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ulv-c106="" class="handle-button copy-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ulv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">params</span>: petalMaps.<span class="hljs-property">RoutePlanParams</span> = {</li><li>    <span class="hljs-attr">destinationPosition</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">31.983015468224288</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">118.78058590757131</span></li><li>    }</li><li>  };</li><li>  <span class="hljs-keyword">await</span> petalMaps.<span class="hljs-title function_">openMapRoutePlan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), params);</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`code:<span class="hljs-subst">${e.code}</span>, message:<span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     </div>     <div class="p">      <div class="fignone">       <span class="figcap"><b>图4 </b>打开地图应用规划路线</span>       <br><span><img originheight="648" originwidth="279" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114526.09938016274029936314216177432283:50001231000000:2800:4BB3D5C043DDC7114B6167923776A2DF074277BAAB2287A87384E76F8D9329F9.png" class="notEnlarge" width="279" height="648"></span>      </div>     </div>    </div>    <div class="tiledSection">     <h3 id="section2056410160459">打开地图应用进行导航<i class="anchor-icon anchor-icon-link" anchorid="section2056410160459" tips="复制节点链接"></i></h3>          <div class="p">      通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section16894648175" target="_blank">openMapNavi</a>，传入终点经纬度，打开地图应用发起导航。      <div _ngcontent-ulv-c106="" class="highlight-div"><div _ngcontent-ulv-c106="" class="highlight-div-header"><div _ngcontent-ulv-c106="" class="highlight-div-header-left"><div _ngcontent-ulv-c106="" class="handle-button expand-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ulv-c106="" class="highlight-div-header-right"><div _ngcontent-ulv-c106="" class="handle-button ai-button"></div><div _ngcontent-ulv-c106="" class="handle-button line-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ulv-c106="" class="handle-button theme-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ulv-c106="" class="handle-button copy-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ulv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">params</span>: petalMaps.<span class="hljs-property">NaviParams</span> = {</li><li>    <span class="hljs-attr">destinationPosition</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">31.983015468224288</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">118.78058590757131</span></li><li>    }</li><li>  };</li><li>  <span class="hljs-keyword">await</span> petalMaps.<span class="hljs-title function_">openMapNavi</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), params);</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`code:<span class="hljs-subst">${e.code}</span>, message:<span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     </div>     <div class="p">      <div class="fignone">       <span class="figcap"><b>图5 </b>打开地图应用进行导航</span>       <br><span><img originheight="649" originwidth="278" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114526.40987811433149538860227980413453:50001231000000:2800:08685FC39BDBD22F3600C5CAEFDAC4A43D2141CBF4E454B631190D650440224A.png" class="notEnlarge" width="278" height="649"></span>      </div>     </div>    </div>    <div class="tiledSection">     <h3 id="section298319302496">打开地图应用打车页面<i class="anchor-icon anchor-icon-link" anchorid="section298319302496" tips="复制节点链接"></i></h3>          <div class="p">      通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-petal-maps#section147354416415" target="_blank">openMapTaxi</a>，传入终点经纬度，打开地图应用发起打车。      <div _ngcontent-ulv-c106="" class="highlight-div"><div _ngcontent-ulv-c106="" class="highlight-div-header"><div _ngcontent-ulv-c106="" class="highlight-div-header-left"><div _ngcontent-ulv-c106="" class="handle-button expand-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-ulv-c106="" class="highlight-div-header-right"><div _ngcontent-ulv-c106="" class="handle-button ai-button"></div><div _ngcontent-ulv-c106="" class="handle-button line-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-ulv-c106="" class="handle-button theme-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-ulv-c106="" class="handle-button copy-button"><div _ngcontent-ulv-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-ulv-c106="" class="highlight-scroll-div"><pre class="typescript prettyprint linenums hljs language-typescript" hw-language="typescript" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">try</span> {</li><li>  <span class="hljs-keyword">let</span> <span class="hljs-attr">params</span>: petalMaps.<span class="hljs-property">TaxiParams</span> = {</li><li>    <span class="hljs-attr">destinationPosition</span>: {</li><li>      <span class="hljs-attr">latitude</span>: <span class="hljs-number">31.983015468224288</span>,</li><li>      <span class="hljs-attr">longitude</span>: <span class="hljs-number">118.78058590757131</span></li><li>    }</li><li>  };</li><li>  <span class="hljs-keyword">await</span> petalMaps.<span class="hljs-title function_">openMapTaxi</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>(), params);</li><li>} <span class="hljs-keyword">catch</span> (e) {</li><li>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`code:<span class="hljs-subst">${e.code}</span>, message:<span class="hljs-subst">${e.message}</span>`</span>);</li><li>}</li></ol></pre></div></div>     </div>     <div class="p">      <div class="fignone">       <span class="figcap"><b>图6 </b>打开地图应用进行打车</span>      </div>     </div>     <p><span><img height="617.657985" originheight="679" originwidth="318" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211114526.90355757055696899907319563976040:50001231000000:2800:55EC7198A3678C64BCF830A8D1D41D18A3B64826ADABD9E7D867A00419BD109A.jpg" title="点击放大" width="289.27500000000003"></span></p>    </div>   </div>   <div></div></div>