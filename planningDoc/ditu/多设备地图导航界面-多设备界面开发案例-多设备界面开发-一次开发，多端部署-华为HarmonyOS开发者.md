<h1 _ngcontent-bwk-c119="" class="doc-title ng-star-inserted" title="多设备地图导航界面"> 多设备地图导航界面 </h1>

<div _ngcontent-bwk-c106="" auitextselectionexpansion="" class="markdown-body ng-star-inserted" style="position: relative;"> <div><div class="tiledSection"><h2 id="section730181714433">概述<i class="anchor-icon anchor-icon-link" anchorid="section730181714433" tips="复制节点链接"></i></h2><p>本文从目前流行的垂类市场中，选择地图行业应用作为典型案例详细介绍“一多”在实际开发中的应用。地图行业核心功能为定位、导航和打车等。根据这些核心功能，本文选择<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section39845311410">首页</a>、<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section19991633183514">路线规划页</a>、<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section167117194016">服务卡片页</a>、<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section168841418408">实况窗页</a>等作为典型页面进行开发，遵循多设备的差异性、一致性、灵活性和兼容性原则，帮助开发者快速高效地掌握“一多”能力，实现地图导航应用的相关功能。</p> <p>地图类应用为了提升用户的使用体验，对垂类内的核心功能进行了独特设计：</p> <ul><li><a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section39845311410">首页</a>为了减少面板对地图的遮挡，采用手机端使用底部面板，而折叠屏展开态使用侧边面板的方式展示功能入口。</li><li>面板高度支持多档位调节以满足不同用户需求，其中手机端和折叠屏默认设置为中档位高度以方便查看地图时使用常用功能，而宽屏设备因屏幕空间充足支持面板拖拽至右侧。</li><li>用户查看<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section122261042123411">地点详情</a>时，选择地点后，地点详情信息展示在面板上。</li><li>在<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section535342543519">搜索结果页</a>中，搜索框始终展示在面板上，避免遮挡地图。</li><li>在<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section19991633183514">路线规划页</a>中，用户上滑或下滑面板时，路线推荐方案布局自适应变化，展示相同路线信息。</li><li>在宽屏设备上，<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section5892174743917">导航页</a>页通过侧边小弹窗和侧边底部面板展示路线信息，避免遮挡地图。</li><li>应用提供<a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section167117194016">服务卡片页</a>，展示常用功能、常用地点或路况信息等用户关注的内容，用户可以通过卡片进入应用。</li><li><a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section168841418408">实况窗页</a>可以在屏幕左上角实时更新定位、导航或打车的关键信息，并在通知中心中实时更新更多关键信息。</li></ul> <p>当前系统的产品形态包括手机和折叠屏。下文将围绕这两种产品形态，从UX设计、架构设计、页面开发三个角度，给出符合“一多”地图导航应用的最佳实践参考样例。</p> <ul><li><a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section054881618315">UX设计</a>章节介绍地图导航应用的交互逻辑和通用的设计要点，对于类似的设计要点，开发者可以直接拿来使用。</li><li><a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section18115172420311">架构设计</a>章节推荐“一多”应用使用目录结构更清晰的三层架构。</li><li><a href="/consumer/cn/doc/best-practices/multi-travel-navigation#section684313418314">页面开发</a>章节会将页面划分为不同区域，介绍如何使用自适应布局和响应式布局实现不同的UI效果。</li></ul> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>阅读本文前，读者需熟悉<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkui-overview" target="_blank">方舟开发框架（ArkUI框架）</a>和页面开发的<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-overview">“一多”能力</a>。下文将详细介绍它们在“一多”开发实践中如何使用。</p> </div></div></div> </div> <div class="tiledSection"><h2 id="section054881618315">UX设计<i class="anchor-icon anchor-icon-link" anchorid="section054881618315" tips="复制节点链接"></i></h2><p>出行导航类的多设备响应式设计指南，<a href="https://developer.huawei.com/consumer/cn/doc/design-guides/travel-and-navigation-0000001957391017" target="_blank">点击访问</a>。</p> </div> <div class="tiledSection"><h2 id="section18115172420311">架构设计<i class="anchor-icon anchor-icon-link" anchorid="section18115172420311" tips="复制节点链接"></i></h2><p>HarmonyOS的分层架构包括产品定制层、基础特性层和公共能力层，构建了清晰、高效、可扩展的设计架构。更多详情请参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-layered-architecture-design" target="_blank">分层架构设计</a>的逻辑设计。</p> </div> <div class="tiledSection"><h2 id="section684313418314">页面开发<i class="anchor-icon anchor-icon-link" anchorid="section684313418314" tips="复制节点链接"></i></h2><p>本章介绍地图导航应用中如何使用“一多”的布局能力，完成页面层级的多端适配。下文将介绍每个页面区域的具体布局能力，帮助开发者从0到1进行开发。</p> <div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>阅读本章节前，读者需熟悉<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/map-introduction" target="_blank">地图服务简介</a>，并参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-dev-overview" target="_blank">应用开发准备</a>及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/map-config-agc" target="_blank">配置AppGallery Connect</a>开通相关服务。下文将详细介绍地图导航的“一多”开发实践。</p> </div></div></div> </div> <div class="tiledSection"><h3 id="section39845311410" class="firsth2">首页<i class="anchor-icon anchor-icon-link" anchorid="section39845311410" tips="复制节点链接"></i></h3><p>首页展示当前位置信息，提供搜索地点、查看地点详情等入口，便于操作。观察不同设备上的UX设计图，进行如下设计：</p> <ul><li>将首页分为6个区域，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.3.1.1.1.4.1.1" valign="top" width="11.998800119988001%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.1.1.4.1.2" valign="top" width="32.11678832116788%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.1.1.1.4.1.3" valign="top" width="55.884411558844114%"><p>md</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3149" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163209.10139198248743440072166429773126:50001231000000:2800:895D2B9BD67844D259AD66382D7EED4FCCDA6CDBC7EF6A0E8439DFD7B73AF3D9.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163209.99021044844133416606777792309257:50001231000000:2800:59786989E678BD57BA2A4BEB5B411DA68D1794B9247D96388DD5E84412AC6D9E.png" title="点击放大" width="478.8"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对其中的各个区域分析使用的能力，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.5.3.2.1.1.4.1.1" valign="top" width="6.851996867658575%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.2.1.1.4.1.2" valign="top" width="9.602584181675802%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.5.3.2.1.1.4.1.3" valign="top" width="83.54541895066562%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>地图</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/map-mapcomponent" target="_blank">MapComponent</a>组件实现地图的展示，默认占满窗口，并设置窗口的沉浸式。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>面板</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-stack" target="_blank">Stack</a>组件，在地图上层嵌套<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-column" target="_blank">Column</a>组件实现面板，并借助<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545">栅格布局</a>监听断点变化，设置在不同断点下面板的不同形态。在sm断点下面板底部展示，在md断点下悬浮展示。并通过绑定<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-pangesture" target="_blank">拖动手势</a>实现在宽屏设备上的居左或居右变换。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>3</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>拖动区域</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>通过绑定<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-gestures-pangesture" target="_blank">拖动手势</a>实现面板高度变换，当前支持三个档位变换调节。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>搜索框</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput" target="_blank">TextInput</a>组件实现搜索框效果，通过<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#onsubmit" target="_blank">onSubmit()</a>事件实现搜索功能。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>5</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>功能选择</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p>使用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-grid" target="_blank">Grid</a>组件实现均分能力，并在面板高度切换时，展示不同行数的功能。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.851996867658575%"><p>6</p> </td> <td class="cellrowborder" valign="top" width="9.602584181675802%"><p>页签</p> </td> <td class="cellrowborder" valign="top" width="83.54541895066562%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs" target="_blank">Tabs</a>组件实现延伸能力，代码可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li1226615201361">多设备长视频界面</a>。</p> </td> </tr>  </tbody></table></div> </div> </li><li>通过Stack组件在MapComponent上嵌套Column实现面板，并通过手势判定实现面板的多档位调节和位置改变。<div class="screenLinkPre"><div _ngcontent-bwk-c106="" class="highlight-div"><div _ngcontent-bwk-c106="" class="highlight-div-header"><div _ngcontent-bwk-c106="" class="highlight-div-header-left"><div _ngcontent-bwk-c106="" class="handle-button expand-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bwk-c106="" class="highlight-div-header-right"><div _ngcontent-bwk-c106="" class="handle-button ai-button"></div><div _ngcontent-bwk-c106="" class="handle-button line-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bwk-c106="" class="handle-button theme-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bwk-c106="" class="handle-button copy-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bwk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-kotlin" codehub="https://gitee.com/harmonyos_samples/multi-travel-navigation/blob/master/features/map/src/main/ets/view/MapView.ets#L129-L266" data-highlighted="yes"><ol class="linenums"><li>build() {</li><li>  Stack({ alignContent: Alignment.BottomStart }) {</li><li>    MapComponent({ mapOptions: <span class="hljs-keyword">this</span>.mapOption, mapCallback: <span class="hljs-keyword">this</span>.callback })</li><li>
</li><li>    Column() {</li><li>      Row() {</li><li>        <span class="hljs-comment">// ...</span></li><li>      }</li><li>      .height(<span class="hljs-string">'26vp'</span>)</li><li>      .width(<span class="hljs-string">'100%'</span>)</li><li>      .justifyContent(FlexAlign.Center)</li><li>      .gesture(</li><li>        PanGesture(<span class="hljs-keyword">this</span>.panOptionHeight)</li><li>          .onActionUpdate((event?: GestureEvent) =&gt; {</li><li>            <span class="hljs-keyword">if</span> (event) {</li><li>              let height = <span class="hljs-keyword">this</span>.columnHeight - event.offsetY;</li><li>              <span class="hljs-keyword">this</span>.tempColumnHeight = height;</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempColumnHeight &lt; <span class="hljs-number">150</span>) {</li><li>                <span class="hljs-keyword">this</span>.tempColumnHeight = <span class="hljs-number">150</span>;</li><li>              }</li><li>              <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempColumnHeight &gt; <span class="hljs-keyword">this</span>.columnMaxHeight) {</li><li>                <span class="hljs-keyword">this</span>.tempColumnHeight = <span class="hljs-keyword">this</span>.columnMaxHeight;</li><li>              }</li><li>            }</li><li>          })</li><li>          .onActionEnd(() =&gt; {</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempColumnHeight &gt; (<span class="hljs-keyword">this</span>.columnMaxHeight - <span class="hljs-number">269</span>) / <span class="hljs-number">2</span> + <span class="hljs-number">269</span>) {</li><li>              <span class="hljs-keyword">this</span>.columnHeight = <span class="hljs-keyword">this</span>.columnMaxHeight;</li><li>              <span class="hljs-keyword">this</span>.isShowBack = <span class="hljs-literal">false</span>;</li><li>            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempColumnHeight &lt; (<span class="hljs-number">269</span> - <span class="hljs-number">150</span>) / <span class="hljs-number">2</span> + <span class="hljs-number">150</span>) {</li><li>              <span class="hljs-keyword">this</span>.columnHeight = <span class="hljs-number">150</span>;</li><li>              <span class="hljs-keyword">this</span>.isShowBack = <span class="hljs-literal">true</span>;</li><li>            } <span class="hljs-keyword">else</span> {</li><li>              <span class="hljs-keyword">this</span>.columnHeight = <span class="hljs-number">269</span>;</li><li>              <span class="hljs-keyword">this</span>.isShowBack = <span class="hljs-literal">true</span>;</li><li>            }</li><li>            <span class="hljs-keyword">this</span>.tempColumnHeight = <span class="hljs-keyword">this</span>.columnHeight;</li><li>          })</li><li>      )</li><li>
</li><li>      <span class="hljs-comment">// ...</span></li><li>    }</li><li>    <span class="hljs-comment">// ...</span></li><li>    .gesture(</li><li>      PanGesture(<span class="hljs-keyword">this</span>.panOptionPosition)</li><li>        .onActionUpdate((event?: GestureEvent) =&gt; {</li><li>          <span class="hljs-keyword">if</span> (event) {</li><li>            let position = <span class="hljs-keyword">this</span>.left + event.offsetX;</li><li>            <span class="hljs-keyword">this</span>.tempLeft = position;</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempLeft &lt; <span class="hljs-number">24</span>) {</li><li>              <span class="hljs-keyword">this</span>.tempLeft = <span class="hljs-number">24</span>;</li><li>            }</li><li>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempLeft &gt; <span class="hljs-number">350</span>) {</li><li>              <span class="hljs-keyword">this</span>.tempLeft = <span class="hljs-number">350</span>;</li><li>            }</li><li>          }</li><li>        })</li><li>        .onActionEnd(() =&gt; {</li><li>          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempLeft &lt; <span class="hljs-number">200</span>) {</li><li>            <span class="hljs-keyword">this</span>.left = <span class="hljs-number">24</span>;</li><li>          } <span class="hljs-keyword">else</span> {</li><li>            <span class="hljs-keyword">this</span>.left = <span class="hljs-number">350</span>;</li><li>          }</li><li>          <span class="hljs-keyword">this</span>.tempLeft = <span class="hljs-keyword">this</span>.left;</li><li>        })</li><li>    )</li><li>    <span class="hljs-comment">// ...</span></li><li>  }</li><li>  .height(<span class="hljs-string">'100%'</span>)</li><li>  .width(<span class="hljs-string">'100%'</span>)</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-travel-navigation/blob/master/features/map/src/main/ets/view/MapView.ets#L129-L266" target="_blank">MapView.ets</a></div></div></div></div> </li></ul> </div> <div class="tiledSection"><h3 id="section122261042123411">地点详情页<i class="anchor-icon anchor-icon-link" anchorid="section122261042123411" tips="复制节点链接"></i></h3><p>地点详情页展示用户所选地点的详细信息，并提供导航和路线规划入口。观察地点详情页在不同设备上的UX设计图，可以进行以下设计：</p> <ul><li>将地点详情页划分为2个区域，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.3.1.1.1.4.1.1" valign="top" width="11.998800119988001%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.1.1.4.1.2" valign="top" width="32.11678832116788%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.1.1.1.4.1.3" valign="top" width="55.884411558844114%"><p>md</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163210.33837014645750799710546622572935:50001231000000:2800:6ED6749D5EAA46FC999C303DB1F4A60C5B4B6924E3EF4AF532A125F4C2F6EE0F.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163210.41680752595719134432572983221658:50001231000000:2800:846938076EEC8CE2FD3C86A5CE4D18F6E0FBD5C189C59C918F431DD327EB4493.png" title="点击放大" width="478.8"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对各区域使用的能力进行分析，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.6.3.2.1.1.4.1.1" valign="top" width="6.814641744548286%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.2.1.1.4.1.2" valign="top" width="12.509735202492212%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.6.3.2.1.1.4.1.3" valign="top" width="80.6756230529595%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>图片轮播区</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-swiper" target="_blank">Swiper</a>实现图片轮播切换。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>景点信息</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List组件</a>实现<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-adaptive-layout#延伸能力">延伸能力</a>。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> </div> <div class="tiledSection"><h3 id="section535342543519">搜索结果页<i class="anchor-icon anchor-icon-link" anchorid="section535342543519" tips="复制节点链接"></i></h3><p>搜索结果页展示附近相关地点列表，根据用户输入内容生成。观察搜索结果页在不同设备上的UX设计图，可以进行以下设计：</p> <ul><li>将搜索结果页划分为2个区域。效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.3.1.1.1.4.1.1" valign="top" width="11.998800119988001%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.1.1.4.1.2" valign="top" width="32.11678832116788%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.1.1.1.4.1.3" valign="top" width="55.884411558844114%"><p>md</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>搜索结果列表-中档位面板效果</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163210.56675278523084737483791584660409:50001231000000:2800:728F919B6CCC2372C11EAFAA6855872D40F7910C026F287F5B35C79EB06BE08E.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163210.06382489369960656825316895888439:50001231000000:2800:F183DC2E2AF881B34C8384035D2E26566B5621626F073E7893B09E3A4BF0C4E5.png" title="点击放大" width="478.8"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>搜索结果列表-高档位面板效果</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163210.46028387778526559276730792445312:50001231000000:2800:AB8AE9811F2C422A55960B6DBC26FFF8C7E4DF48B8D1CD3630B551AAC98AECA6.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163210.52924942698349083789344271488612:50001231000000:2800:6CA2C71F78C00C9F36573385C0BAB4420B3F66F37DABBD4205279415285BC2DE.png" title="点击放大" width="478.8"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对其中的各个区域分析使用的能力，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.7.3.2.1.1.4.1.1" valign="top" width="6.814641744548286%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.2.1.1.4.1.2" valign="top" width="12.509735202492212%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.7.3.2.1.1.4.1.3" valign="top" width="80.6756230529595%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>搜索框</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p>搜索内容后，右侧按钮变为取消。代码参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li1346175796">多设备长视频界面</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>搜索结果列表</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p>面板处于中档位时采用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-swiper" target="_blank">Swiper</a>实现延伸能力，高档位时采用<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List组件</a>实现延伸能力。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> </div> <div class="tiledSection"><h3 id="section19991633183514">路线规划页<i class="anchor-icon anchor-icon-link" anchorid="section19991633183514" tips="复制节点链接"></i></h3><p>路线规划页默认展示最多三条驾车路线及其相关信息。观察路线规划页在不同设备上的UX设计图，可以进行以下设计：</p> <ul><li>将路线规划页划分为4个区域，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.3.1.1.1.4.1.1" valign="top" width="11.998800119988001%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.8.3.1.1.1.4.1.2" valign="top" width="32.11678832116788%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.3.1.1.1.4.1.3" valign="top" width="55.884411558844114%"><p>md</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>路线搜索效果</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p></p> <p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163211.80337984526384936847514467625254:50001231000000:2800:8E18FBEB6E65E85E3C40039B47C2C74E7458CFD7AA19BD2BB356EE2ED8C64F4C.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p></p> <p><span><img height="547.0857897067436" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163211.42766069264758369143138043342708:50001231000000:2800:2DBCBACD98A6ECA4DA08E819C12DE50A49F174985AEBD8FE9E7F35D2B13E438F.png" title="点击放大" width="490.13658634136584"></span></p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>路径规划结果</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163211.33317549330602106928827770643656:50001231000000:2800:B1399232693D770A8C1547A175A22EAF4A4B64B484C99FB0CBF1EC8413EF9FC9.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163211.57642566630726064580380123634594:50001231000000:2800:7F15AC64C329800E2E3C3C9411676F3F154DE2EF19799DB64F1BC3A0035D1CF8.png" title="点击放大" width="478.8"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对其中的各个区域分析使用的能力，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.8.3.2.1.1.4.1.1" valign="top" width="6.814641744548286%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.3.2.1.1.4.1.2" valign="top" width="12.509735202492212%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.8.3.2.1.1.4.1.3" valign="top" width="80.6756230529595%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>输入区域</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p>通过判断当前面板高度更换按钮及输入区域布局，<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-row" target="_blank">Row</a>组件配合layoutWeight实现拉伸能力，代码可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li1134192618160">多设备长视频界面</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>方案页签</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-tabs" target="_blank">Tabs</a>组件实现延伸能力，代码可参考<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/multi-video-app#zh-cn_topic_0000001744653537_li1346175796">多设备长视频界面</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>3</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>常去地点信息</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-column" target="_blank">Column</a>组件实现<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-adaptive-layout#延伸能力">延伸能力</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>4</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>路线规划结果</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List</a>组件实现<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-adaptive-layout#延伸能力">延伸能力</a>，并在不同面板高度时设置List的不同方向。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> </div> <div class="tiledSection"><h3 id="section5892174743917">导航页<i class="anchor-icon anchor-icon-link" anchorid="section5892174743917" tips="复制节点链接"></i></h3><p>导航页提供实时导航和路况、剩余路线信息展示。观察不同设备上的导航页UX设计图，可以进行如下设计：</p> <ul><li>将导航页划分为两个区域，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.3.1.1.1.4.1.1" valign="top" width="11.998800119988001%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.9.3.1.1.1.4.1.2" valign="top" width="32.11678832116788%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.3.1.1.1.4.1.3" valign="top" width="55.884411558844114%"><p>md</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163211.85415160767451886431371105874613:50001231000000:2800:B5C7B29E79B047A0AD03A9EBA63747B6A220A8FAA55E5CF1729C2BECF00B7DC1.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163212.80705507674271919090428654826449:50001231000000:2800:651FA802C8C5A0322378A1C1D5048FF405C0F84F7E3117BE7970987D8F69525D.png" title="点击放大" width="478.8"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>分析各区域使用的能力，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.9.3.2.1.1.4.1.1" valign="top" width="6.814641744548286%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.3.2.1.1.4.1.2" valign="top" width="12.169003115264797%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.9.3.2.1.1.4.1.3" valign="top" width="81.01635514018692%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="12.169003115264797%"><p>当前路径信息</p> </td> <td class="cellrowborder" valign="top" width="81.01635514018692%"><p><a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1061332817545">栅格布局</a>监听断点变化实现<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-responsive-layout#section1153210192360">挪移布局</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="12.169003115264797%"><p>剩余路线信息</p> </td> <td class="cellrowborder" valign="top" width="81.01635514018692%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-row" target="_blank">Row</a>组件设置justifyContent属性为SpaceBetween实现自适应占满。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> </div> <div class="tiledSection"><h3 id="section2026311523396">打车页<i class="anchor-icon anchor-icon-link" anchorid="section2026311523396" tips="复制节点链接"></i></h3><p>打车页展示可选择的车辆类型及价格，并提供打车功能。观察打车页在不同设备上的UX设计图，进行如下设计：</p> <ul><li>将打车页划分为两个区域，效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.3.1.1.1.4.1.1" valign="top" width="11.998800119988001%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.10.3.1.1.1.4.1.2" valign="top" width="32.11678832116788%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.3.1.1.1.4.1.3" valign="top" width="55.884411558844114%"><p>md</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163212.85466047588237079273496687767222:50001231000000:2800:82A88E673DD28E816DE3C3ECB34260B7EBDF3DA534E352364A8AA5E79712C982.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163212.19290412347893075310049477496676:50001231000000:2800:84EB0CA12F3C709208A7AAC5398F64557ACA9EA466B2511EA32C90A75B6B46EC.png" title="点击放大" width="478.8"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对各区域的分析能力及实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.10.3.2.1.1.4.1.1" valign="top" width="6.814641744548286%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.3.2.1.1.4.1.2" valign="top" width="12.509735202492212%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.10.3.2.1.1.4.1.3" valign="top" width="80.6756230529595%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>车辆信息</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-list" target="_blank">List</a>组件实现<a href="https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-multi-device-adaptive-layout#延伸能力">延伸能力</a>。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>打车</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-container-row" target="_blank">Row</a>组件实现拉伸效果。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> </div> <div class="tiledSection"><h3 id="section167117194016">服务卡片页<i class="anchor-icon anchor-icon-link" anchorid="section167117194016" tips="复制节点链接"></i></h3><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>阅读本章节前，读者需熟悉<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/form-kit" target="_blank">ArkTS卡片相关模块</a>以及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-ui" target="_blank">ArkTS卡片开发指导</a>。下面将详细介绍ArkTS卡片在“一多”开发中的实践。</p> </div></div></div> <p>服务卡片页展示应用常用功能、地点及路况等信息。观察不同设备上的UX设计图，可以进行如下设计：</p> <ul><li>服务卡片效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.4.1.1.1.4.1.1" valign="top" width="11.998800119988001%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.1.1.4.1.2" valign="top" width="32.11678832116788%"><p>sm</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.4.1.1.1.4.1.3" valign="top" width="55.884411558844114%"><p>md</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.998800119988001%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="32.11678832116788%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163212.55589847779521182229236763013625:50001231000000:2800:9CBC5C737FEAFE1B40FCBF74E90F57B45CEA4BE8988780200150622C871AC4F9.png" title="点击放大" width="266"></span></p> </td> <td class="cellrowborder" valign="top" width="55.884411558844114%"><p><span><img height="534.4339" originheight="2361" originwidth="2115" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163212.45374542347051427333135125292747:50001231000000:2800:7DFD5F228E2B754C8E8F3EF4853AC1F2304145F57FF4DB4A6A1FEA42005D6232.png" title="点击放大" width="478.8"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对其中的各个区域分析使用的能力，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.11.4.2.1.1.4.1.1" valign="top" width="6.814641744548286%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.4.2.1.1.4.1.2" valign="top" width="12.509735202492212%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.11.4.2.1.1.4.1.3" valign="top" width="80.6756230529595%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>静态卡片</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p>在多端均采用2*4的八宫格静态卡片。可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-ui-widget-creation" target="_blank">指南</a>在入口模块创建一个静态卡片，并<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/arkts-ui-widget-configuration" target="_blank">配置相关参数</a>。</p> </td> </tr>  </tbody></table></div> </div> </li></ul> </div> <ul><li>静态卡片的实现<p>在入口模块创建静态卡片，添加显示内容，通过FormLink实现静态卡片与提供方应用的交互。</p> <div class="screenLinkPre"><div _ngcontent-bwk-c106="" class="highlight-div"><div _ngcontent-bwk-c106="" class="highlight-div-header"><div _ngcontent-bwk-c106="" class="highlight-div-header-left"><div _ngcontent-bwk-c106="" class="handle-button expand-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bwk-c106="" class="highlight-div-header-right"><div _ngcontent-bwk-c106="" class="handle-button ai-button"></div><div _ngcontent-bwk-c106="" class="handle-button line-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bwk-c106="" class="handle-button theme-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bwk-c106="" class="handle-button copy-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bwk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-less" codehub="https://gitee.com/harmonyos_samples/multi-travel-navigation/blob/master/products/phone/src/main/ets/form/pages/FormCard.ets#L38-L87" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-selector-tag">Column</span>() {</li><li>  <span class="hljs-selector-tag">FormLink</span>({</li><li>    action: 'router',</li><li>    abilityName: 'EntryAbility',</li><li>    params: {</li><li>      message: 'add detail'</li><li>    }</li><li>  }) {</li><li>    <span class="hljs-selector-tag">Column</span>() {</li><li>      <span class="hljs-selector-tag">Row</span>() {</li><li>        <span class="hljs-selector-tag">Image</span>($<span class="hljs-built_in">r</span>(<span class="hljs-string">'app.media.ic_public_input_search'</span>))</li><li>          <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'15vp'</span>)</li><li>          <span class="hljs-selector-class">.margin</span>({</li><li>            <span class="hljs-attribute">left</span>: <span class="hljs-string">'10vp'</span>,</li><li>            <span class="hljs-attribute">right</span>: <span class="hljs-string">'10vp'</span></li><li>          })</li><li>
</li><li>        <span class="hljs-selector-tag">Text</span>($<span class="hljs-built_in">r</span>(<span class="hljs-string">'app.string.textInput_holder'</span>))</li><li>          <span class="hljs-selector-class">.fontColor</span>(<span class="hljs-string">'#99000000'</span>)</li><li>          <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'80%'</span>)</li><li>          <span class="hljs-selector-class">.maxLines</span>(<span class="hljs-number">1</span>)</li><li>          <span class="hljs-selector-class">.textOverflow</span>({ <span class="hljs-attribute">overflow</span>: TextOverflow.Ellipsis })</li><li>      }</li><li>      .<span class="hljs-built_in">borderRadius</span>(<span class="hljs-string">'22vp'</span>)</li><li>      .<span class="hljs-built_in">width</span>(<span class="hljs-string">'100%'</span>)</li><li>      .<span class="hljs-built_in">height</span>(<span class="hljs-string">'44vp'</span>)</li><li>      .<span class="hljs-built_in">backgroundColor</span>(<span class="hljs-string">'#0d000000'</span>)</li><li>      .<span class="hljs-built_in">margin</span>({ <span class="hljs-attribute">top</span>: <span class="hljs-string">'20vp'</span> })</li><li>
</li><li>      <span class="hljs-built_in">Row</span>() {</li><li>        <span class="hljs-selector-tag">ForEach</span>(FormViewData.FUNCTIONS, (<span class="hljs-attribute">item</span>: FunctionType) =&gt; {</li><li>          <span class="hljs-selector-tag">Column</span>() {</li><li>            <span class="hljs-selector-tag">Image</span>(item.icon)</li><li>              <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'40vp'</span>)</li><li>              <span class="hljs-selector-class">.height</span>(<span class="hljs-string">'40vp'</span>)</li><li>
</li><li>            <span class="hljs-selector-tag">Text</span>(item.desc)</li><li>              <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-string">'12vp'</span>)</li><li>              <span class="hljs-selector-class">.padding</span>({ <span class="hljs-attribute">top</span>: <span class="hljs-string">'4vp'</span> })</li><li>          }</li><li>        }, (<span class="hljs-attribute">item</span>: FunctionType) =&gt; item.id.<span class="hljs-built_in">toString</span>())</li><li>      }</li><li>      <span class="hljs-selector-class">.justifyContent</span>(FlexAlign.SpaceBetween)</li><li>      <span class="hljs-selector-class">.height</span>(<span class="hljs-string">'60%'</span>)</li><li>      <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)</li><li>    }</li><li>    <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'90%'</span>)</li><li>  }</li><li>}</li><li><span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-travel-navigation/blob/master/products/phone/src/main/ets/form/pages/FormCard.ets#L38-L87" target="_blank">FormCard.ets</a></div></div></div></div> </li></ul> <div class="tiledSection"><h3 id="section168841418408">实况窗页<i class="anchor-icon anchor-icon-link" anchorid="section168841418408" tips="复制节点链接"></i></h3><div><div class="hw-editor-tip info"><div class="title">说明</div><div class="content"><p>阅读本章节前，读者需熟悉<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/liveview-introduction" target="_blank">实况窗服务简介</a>及<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/liveview-introduction#section4266105713209" target="_blank">实况窗支持对接的场景</a>，并根据读者的开发场景<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/liveview-preparations" target="_blank">开通相关权益</a>。下面将详细介绍实况窗在“一多”开发中的实践。</p> </div></div></div> <p>实况窗页支持卡片和胶囊两种形态，分别展示在锁屏、通知中心和状态栏。查看不同设备上的UX设计图，可以进行以下设计：</p> <ul><li>实况窗及服务胶囊效果图如下： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.4.1.1.1.5.1.1" valign="top" width="11.1%">&nbsp;&nbsp;</th> <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.1.1.5.1.2" valign="top" width="24.87%"><p>通知中心</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.1.1.5.1.3" valign="top" width="25.15%"><p>状态栏</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.4.1.1.1.5.1.4" valign="top" width="38.879999999999995%"><p>实况胶囊</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="11.1%"><p>效果图</p> </td> <td class="cellrowborder" valign="top" width="24.87%"><p><span><img height="427.5488304" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163213.79648469041796064880522836318155:50001231000000:2800:D35AEFB6EABEBC05A60E87D912DEBDD67F0468FEBBF4A10A4096BD21506CE00D.png" title="点击放大" width="204.804"></span></p> </td> <td class="cellrowborder" valign="top" width="25.15%"><p><span><img height="432.92648799999995" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163213.86299920492088467073629574230691:50001231000000:2800:A8A948841FBA337B66D90ED027D5E4DD1FBB7D114684E488E00ACB215EA8BCA9.png" title="点击放大" width="207.38"></span></p> </td> <td class="cellrowborder" valign="top" width="38.879999999999995%"><p><span><img height="555.3016" originheight="2412" originwidth="1155" src="https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251211163213.73655583885862757937356290362622:50001231000000:2800:F7A030C34396DAED091C288F622F6D0D9A6B6E630775CFF1DADF7F55A8C2BCAB.png" title="点击放大" width="266"></span></p> </td> </tr>  </tbody></table></div> </div> </li><li>对各个区域进行能力分析，实现方案如下表： <div class="tablenoborder"><div class="tbBox"><table class="layoutFixed idpTab"><thead><tr><th align="left" class="cellrowborder" id="mcps1.3.13.4.2.1.1.4.1.1" valign="top" width="6.814641744548286%"><p>区域编号</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.4.2.1.1.4.1.2" valign="top" width="12.509735202492212%"><p>简介</p> </th> <th align="left" class="cellrowborder" id="mcps1.3.13.4.2.1.1.4.1.3" valign="top" width="80.6756230529595%"><p>实现方案</p> </th> </tr> </thead> <tbody><tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>1</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>卡片形态</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p>实况窗默认支持多端效果，本应用实现效果为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/liveview-create-locally#section113626521804" target="_blank">强调文本模板</a>，实况窗拉起时展示在通知中心、和锁屏界面，点击实况胶囊后展示在状态栏。</p> </td> </tr> <tr><td class="cellrowborder" valign="top" width="6.814641744548286%"><p>2</p> </td> <td class="cellrowborder" valign="top" width="12.509735202492212%"><p>胶囊形态</p> </td> <td class="cellrowborder" valign="top" width="80.6756230529595%"><p>实况胶囊默认支持多端效果，本应用实现效果为<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/liveveiw-liveviewmanager#section1440294811375" target="_blank">文本胶囊</a>。</p> </td> </tr>  </tbody></table></div> </div> </li><li>应用在后台运行时，拉起实况窗和实况胶囊，并配置相应参数。<div class="screenLinkPre"><div _ngcontent-bwk-c106="" class="highlight-div"><div _ngcontent-bwk-c106="" class="highlight-div-header"><div _ngcontent-bwk-c106="" class="highlight-div-header-left"><div _ngcontent-bwk-c106="" class="handle-button expand-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">收起</div></div></div><div _ngcontent-bwk-c106="" class="highlight-div-header-right"><div _ngcontent-bwk-c106="" class="handle-button ai-button"></div><div _ngcontent-bwk-c106="" class="handle-button line-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">自动换行</div></div><div _ngcontent-bwk-c106="" class="handle-button theme-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">深色代码主题</div></div><div _ngcontent-bwk-c106="" class="handle-button copy-button"><div _ngcontent-bwk-c106="" class="handle-hover-tips">复制</div></div></div></div><div _ngcontent-bwk-c106="" class="highlight-scroll-div"><pre class="screen prettyprint linenums hljs language-cangjie" codehub="https://gitee.com/harmonyos_samples/multi-travel-navigation/blob/master/features/live/src/main/ets/viewmodel/LiveViewController.ets#L42-L77" data-highlighted="yes"><ol class="linenums"><li><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-variable">async</span> <span class="hljs-title function_">buildDefaultView</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">liveViewManager</span>.<span class="hljs-title class_">LiveView</span>&gt; {</li><li>  <span class="hljs-keyword">return</span> {</li><li>    <span class="hljs-variable">id</span>: <span class="hljs-number">0</span>,</li><li>    <span class="hljs-variable">event</span>: <span class="hljs-string">'PICK_UP'</span>,</li><li>    <span class="hljs-variable">liveViewData</span>: {</li><li>      <span class="hljs-variable">primary</span>: {</li><li>        <span class="hljs-variable">title</span>: <span class="hljs-string">'The driver has taken the order'</span>,</li><li>        <span class="hljs-variable">content</span>: [</li><li>          {</li><li>            <span class="hljs-variable">text</span>: <span class="hljs-string">'distance from you'</span>,</li><li>          },</li><li>          {</li><li>            <span class="hljs-variable">text</span>: <span class="hljs-string">'1 km'</span>,</li><li>            <span class="hljs-variable">textColor</span>: <span class="hljs-string">'#FF0A59F7'</span></li><li>          }</li><li>        ],</li><li>        <span class="hljs-variable">keepTime</span>: <span class="hljs-number">15</span>,</li><li>        <span class="hljs-variable">clickAction</span>: <span class="hljs-title class_">await</span> <span class="hljs-title class_">LiveViewController</span>.<span class="hljs-title class_">buildWantAgent</span>(),</li><li>        <span class="hljs-variable">layoutData</span>: {</li><li>          <span class="hljs-variable">layoutType</span>: <span class="hljs-number">4</span>,</li><li>          <span class="hljs-variable">underlineColor</span>: <span class="hljs-string">'#00ffffff'</span>,</li><li>          <span class="hljs-variable">title</span>: <span class="hljs-string">'Deep Space Gray · Question M7'</span>,</li><li>          <span class="hljs-variable">content</span>: <span class="hljs-string">'Pard 123456'</span>,</li><li>          <span class="hljs-variable">descPic</span>: <span class="hljs-string">'taxi.png'</span></li><li>        }</li><li>      },</li><li>      <span class="hljs-variable">capsule</span>: {</li><li>        <span class="hljs-keyword">type</span>: <span class="hljs-number">1</span>,</li><li>        <span class="hljs-variable">status</span>: <span class="hljs-number">1</span>,</li><li>        <span class="hljs-variable">icon</span>: <span class="hljs-string">'navigate.png'</span>,</li><li>        <span class="hljs-variable">backgroundColor</span>: <span class="hljs-string">'#FF0A59F7'</span>,</li><li>        <span class="hljs-variable">title</span>: <span class="hljs-string">'1 km'</span></li><li>      }</li><li>    }</li><li>  };</li><li>}</li></ol></pre><div class="screen-link-div"><a href="https://gitee.com/harmonyos_samples/multi-travel-navigation/blob/master/features/live/src/main/ets/viewmodel/LiveViewController.ets#L42-L77" target="_blank">LiveViewController.ets</a></div></div></div></div> </li></ul> </div> <div class="tiledSection"><h2 id="section69566261439">示例代码<i class="anchor-icon anchor-icon-link" anchorid="section69566261439" tips="复制节点链接"></i></h2><ul><li><a href="https://gitee.com/harmonyos_samples/multi-travel-navigation" target="_blank">多设备地图导航界面</a></li></ul> </div> </div> <div></div></div>