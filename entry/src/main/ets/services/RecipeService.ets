/**
 * é¥µçŸ¥é?- é…æ–¹æœåŠ¡
 * é…æ–¹ç”Ÿæˆã€æŸ¥è¯¢ã€ç®¡ç?
 */

// é…æ–¹ææ–™æŽ¥å£
export interface Ingredient {
  name: string;
  amount: string;
  unit: string;
}

// é…æ–¹æŽ¥å£
export interface Recipe {
  id: string;
  name: string;
  targetFish: string[];
  waterTypes: string[];
  seasons: string[];
  difficulty: string;
  prepTime: string;
  ingredients: Ingredient[];
  steps: string[];
  tips: string[];
  rating: number;
  usageCount: number;
  isGenerated: boolean;
  createTime: number;
}

// ç”Ÿæˆé…æ–¹å‚æ•°
export interface GenerateParams {
  targetFish: string;
  waterType: string;
  season: string;
  weather: string;
  temperature: number;
}

// é…æ–¹åº“æ•°æ?
const RECIPE_DATABASE: Recipe[] = [
  // ==================== æ± å¡˜é±¼ç§é…æ–¹ ====================
  // é²«é±¼é…æ–¹
  {
    id: 'recipe_crucian_001',
    name: 'ç»å…¸é‡Žé’“é²«é±¼é¥?,
    targetFish: ['é²«é±¼'],
    waterTypes: ['æ± å¡˜', 'æ²³æµ', 'æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'çº¢è™«ç²?, amount: '100', unit: 'g' },
      { name: 'æ‹‰ä¸ç²?, amount: '30', unit: 'g' },
      { name: 'éº¸çš®', amount: '50', unit: 'g' },
      { name: 'èœ‚èœœ', amount: '10', unit: 'ml' }
    ],
    steps: ['çº¢è™«ç²‰ä¸Žæ‹‰ä¸ç²‰æ··å?, 'åŠ å…¥éº¸çš®æ…æ‹Œå‡åŒ€', 'åŠ å…¥èœ‚èœœå’Œé€‚é‡æ°?, 'æ‰æˆè½¯ç¡¬é€‚ä¸­çš„é¥µå›?],
    tips: ['æ˜¥ç§‹å­£é²«é±¼åçˆ±è…¥é¦?, 'é¥µæ–™çŠ¶æ€è¦è½¯ç³¯'],
    rating: 4.8, usageCount: 2356, isGenerated: false, createTime: Date.now()
  },
  {
    id: 'recipe_crucian_002',
    name: 'å†¬å­£çº¢è™«æ‹‰é¥µ',
    targetFish: ['é²«é±¼'],
    waterTypes: ['æ± å¡˜', 'æ²³æµ'],
    seasons: ['å†¬å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: '15åˆ†é’Ÿ',
    ingredients: [
      { name: 'çº¢è™«ç²?, amount: '150', unit: 'g' },
      { name: 'è™¾ç²‰', amount: '30', unit: 'g' },
      { name: 'æ‹‰ä¸ç²?, amount: '40', unit: 'g' },
      { name: 'èš¯èš“è†?, amount: '5', unit: 'ml' }
    ],
    steps: ['çº¢è™«ç²‰ä¸Žè™¾ç²‰æ··åˆ', 'åŠ å…¥æ‹‰ä¸ç²?, 'æ»´å…¥èš¯èš“è†?, 'åŠ å†·æ°´å¼€é¥µï¼Œé™ç½®5åˆ†é’Ÿ'],
    tips: ['å†¬å­£ç”¨è…¥é¥µæ•ˆæžœæœ€ä½?, 'é¥µæ–™è¦è½»è½¯ï¼Œæ–¹ä¾¿é±¼å¸å…?],
    rating: 4.7, usageCount: 1892, isGenerated: false, createTime: Date.now()
  },

  // é²¤é±¼é…æ–¹
  {
    id: 'recipe_carp_001',
    name: 'ç»å…¸çŽ‰ç±³é…’é¦™é¥?,
    targetFish: ['é²¤é±¼'],
    waterTypes: ['æ± å¡˜', 'æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '15åˆ†é’Ÿ',
    ingredients: [
      { name: 'çŽ‰ç±³ç²?, amount: '300', unit: 'g' },
      { name: 'é¢ç²‰', amount: '100', unit: 'g' },
      { name: 'çº¢è–¯ç²?, amount: '50', unit: 'g' },
      { name: 'èœ‚èœœ', amount: '20', unit: 'ml' },
      { name: 'è¯é…’', amount: '10', unit: 'ml' }
    ],
    steps: ['çŽ‰ç±³ç²‰ã€é¢ç²‰ã€çº¢è–¯ç²‰æ··åˆ', 'åŠ å…¥èœ‚èœœå’Œè¯é…?, 'åŠ æ¸©æ°´æ…æ‹Œæˆç³?, 'æ‰æˆé¢å›¢é™ç½®30åˆ†é’Ÿ'],
    tips: ['è¯é…’é€‰ç”¨ä¸é¦™ã€å±±å¥ˆæ³¡åˆ¶çš„æ•ˆæžœå¥?, 'é¢å›¢ä¸å®œå¤ªç¡¬'],
    rating: 4.9, usageCount: 3256, isGenerated: false, createTime: Date.now()
  },
  {
    id: 'recipe_carp_002',
    name: 'å¤å­£æ¸…æ·¡é²¤é±¼é¥?,
    targetFish: ['é²¤é±¼'],
    waterTypes: ['æ± å¡˜', 'æ°´åº“'],
    seasons: ['å¤å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'çŽ‰ç±³ç²?, amount: '200', unit: 'g' },
      { name: 'éº¸çš®', amount: '100', unit: 'g' },
      { name: 'æžœé…¸', amount: '5', unit: 'ml' },
      { name: 'ç™½ç³–', amount: '15', unit: 'g' }
    ],
    steps: ['çŽ‰ç±³ç²‰ä¸Žéº¸çš®æ··åˆ', 'åŠ å…¥æžœé…¸å’Œç™½ç³?, 'åŠ æ°´è°ƒæˆåˆé€‚çŠ¶æ€?],
    tips: ['å¤å­£é«˜æ¸©é²¤é±¼å–œæ¸…æ·?, 'å¯é€‚å½“å¢žåŠ æžœé…¸ç”¨é‡'],
    rating: 4.5, usageCount: 1654, isGenerated: false, createTime: Date.now()
  },

  // è‰é±¼é…æ–¹
  {
    id: 'recipe_grass_001',
    name: 'å¤å­£å«©è‰é¥?,
    targetFish: ['è‰é±¼'],
    waterTypes: ['æ± å¡˜', 'æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['å¤å­£'],
    difficulty: 'ç®€å?,
    prepTime: '5åˆ†é’Ÿ',
    ingredients: [
      { name: 'å«©è‰', amount: 'é€‚é‡', unit: '' },
      { name: 'èŠ¦è‹‡èŠ?, amount: '3-5', unit: 'æ ? },
      { name: 'çŽ‰ç±³ç²?, amount: '50', unit: 'g' }
    ],
    steps: ['é‡‡æ‘˜æ–°é²œå«©è‰å’ŒèŠ¦è‹‡èŠ¯', 'çŽ‰ç±³ç²’æ‰“çªè¯±é±?, 'å«©è‰æˆ–èŠ¦è‹‡èŠ¯ç›´æŽ¥æŒ‚é’©'],
    tips: ['è‰é±¼å¤å­£æœ€çˆ±æ–°é²œå«©è?, 'é€‰æ‹©æ°´è¾¹ç”Ÿé•¿çš„è‰æ•ˆæžœæ›´å¥½'],
    rating: 4.8, usageCount: 2145, isGenerated: false, createTime: Date.now()
  },
  {
    id: 'recipe_grass_002',
    name: 'å‘é…µçŽ‰ç±³é’“è‰é±?,
    targetFish: ['è‰é±¼'],
    waterTypes: ['æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'æå‰3å¤?,
    ingredients: [
      { name: 'å‘é…µçŽ‰ç±³', amount: '500', unit: 'g' },
      { name: 'éº¦ç²’', amount: '200', unit: 'g' },
      { name: 'çŽ‰ç±³ç²?, amount: '100', unit: 'g' },
      { name: 'èœ‚èœœ', amount: '20', unit: 'ml' }
    ],
    steps: ['çŽ‰ç±³ç²’æå‰æ³¡å‘é…µ3å¤?, 'éº¦ç²’ç…®ç†Ÿå¤‡ç”¨', 'å‘é…µçŽ‰ç±³ç›´æŽ¥æŒ‚é’©', 'çŽ‰ç±³ç²‰åŠ èœ‚èœœåšçªæ–?],
    tips: ['å‘é…µçŽ‰ç±³é…’é¦™å‘³æµ“ï¼Œå¤§è‰é±¼æœ€çˆ?, 'æ‰“é‡çªå®ˆé’“æ•ˆæžœå¥½'],
    rating: 4.7, usageCount: 1876, isGenerated: false, createTime: Date.now()
  },

  // é³™é±¼é…æ–¹
  {
    id: 'recipe_bighead_001',
    name: 'å¤å­£é…¸è‡­é³™é±¼é¥?,
    targetFish: ['é³™é±¼'],
    waterTypes: ['æ± å¡˜', 'æ°´åº“'],
    seasons: ['å¤å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: '20åˆ†é’Ÿ',
    ingredients: [
      { name: 'é²¢é³™é¢—ç²’', amount: '200', unit: 'g' },
      { name: 'è‡­è±†è…æ±', amount: '30', unit: 'ml' },
      { name: 'è’œç²‰', amount: '10', unit: 'g' },
      { name: 'é›ªèŠ±ç²?, amount: '50', unit: 'g' },
      { name: 'è—¿é¦™æ­£æ°”æ°?, amount: '10', unit: 'ml' }
    ],
    steps: ['é²¢é³™é¢—ç²’ç”¨æ°´æ³¡å¼€', 'åŠ å…¥è‡­è±†è…æ±å’Œè—¿é¦™æ­£æ°”æ°´', 'åŠ å…¥è’œç²‰æ…æ‹Œ', 'é›ªèŠ±ç²‰è°ƒèŠ‚é›¾åŒ?],
    tips: ['é³™é±¼å–œé…¸è‡­å‘³ï¼Œå‘³é“è¶Šé‡è¶Šå¥?, 'æµ®é’“æ•ˆæžœæœ€ä½?],
    rating: 4.6, usageCount: 1432, isGenerated: false, createTime: Date.now()
  },

  // é²¢é±¼é…æ–¹
  {
    id: 'recipe_silver_001',
    name: 'å¤å­£é…¸é¦™é²¢é±¼é¥?,
    targetFish: ['é²¢é±¼'],
    waterTypes: ['æ± å¡˜', 'æ°´åº“'],
    seasons: ['å¤å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: '15åˆ†é’Ÿ',
    ingredients: [
      { name: 'é²¢é³™é¢—ç²’', amount: '200', unit: 'g' },
      { name: 'æžœé…¸', amount: '10', unit: 'ml' },
      { name: 'ç™½é†‹', amount: '15', unit: 'ml' },
      { name: 'é›ªèŠ±ç²?, amount: '80', unit: 'g' },
      { name: 'è½»éº¸', amount: '30', unit: 'g' }
    ],
    steps: ['é²¢é³™é¢—ç²’åŠ æ°´æ³¡è½¯', 'åŠ å…¥æžœé…¸å’Œç™½é†?, 'é›ªèŠ±ç²‰å’Œè½»éº¸è°ƒèŠ‚çŠ¶æ€?, 'æ…æ‹Œå‡åŒ€å³å¯'],
    tips: ['é²¢é±¼å–œé…¸å‘³ï¼Œé›¾åŒ–è¦å¥½', 'é«˜æ¸©å¤©æ°”æ•ˆæžœæœ€ä½?],
    rating: 4.5, usageCount: 1287, isGenerated: false, createTime: Date.now()
  },

  // ç½—éžé±¼é…æ–?
  {
    id: 'recipe_tilapia_001',
    name: 'å—æ–¹ç½—éžä¸“ç”¨é¥?,
    targetFish: ['ç½—éžé±?],
    waterTypes: ['æ± å¡˜'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'ç½—éžé¢—ç²’', amount: '200', unit: 'g' },
      { name: 'è™¾ç²‰', amount: '50', unit: 'g' },
      { name: 'æ‹‰ä¸ç²?, amount: '30', unit: 'g' },
      { name: 'èš¯èš“è†?, amount: '5', unit: 'ml' }
    ],
    steps: ['ç½—éžé¢—ç²’åŠ æ°´æ³¡è½¯', 'åŠ å…¥è™¾ç²‰å¢žè…¥', 'æ‹‰ä¸ç²‰è°ƒèŠ‚çŠ¶æ€?, 'æ»´å…¥èš¯èš“è†å¢žåŠ è¯±é±¼æ•ˆæž?],
    tips: ['ç½—éžé±¼å–œè…¥å‘³', 'å¤å­£é«˜æ¸©æ´»æ€§æœ€å¼?],
    rating: 4.4, usageCount: 987, isGenerated: false, createTime: Date.now()
  },

  // æ–‘ç‚¹å‰å°¾é®°é…æ–?
  {
    id: 'recipe_channel_catfish_001',
    name: 'é»‘å‘å‰å°¾ä¸“ç”¨é¥?,
    targetFish: ['æ–‘ç‚¹å‰å°¾é®?],
    waterTypes: ['æ± å¡˜'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'é²¶é±¼é¢—ç²’', amount: '200', unit: 'g' },
      { name: 'é¸¡è‚ç²?, amount: '50', unit: 'g' },
      { name: 'è™¾ç²‰', amount: '30', unit: 'g' },
      { name: 'æ‹‰ä¸ç²?, amount: '20', unit: 'g' }
    ],
    steps: ['é²¶é±¼é¢—ç²’æ³¡è½¯', 'åŠ å…¥é¸¡è‚ç²‰å’Œè™¾ç²‰', 'æ‹‰ä¸ç²‰è°ƒèŠ‚çŠ¶æ€?, 'æ…æ‹Œå‡åŒ€å³å¯'],
    tips: ['å‰å°¾é®°å–œé‡è…¥å‘?, 'å¤œé’“æ•ˆæžœæ›´å¥½'],
    rating: 4.5, usageCount: 1123, isGenerated: false, createTime: Date.now()
  },

  // ==================== æ²³æµé±¼ç§é…æ–¹ ====================
  // é²¶é±¼é…æ–¹
  {
    id: 'recipe_catfish_001',
    name: 'å¤œé’“é²¶é±¼é‡è…¥é¥?,
    targetFish: ['é²¶é±¼'],
    waterTypes: ['æ²³æµ', 'æ± å¡˜'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'é¸¡è‚ç²?, amount: '100', unit: 'g' },
      { name: 'èš¯èš“ç²?, amount: '50', unit: 'g' },
      { name: 'è¡€ç²?, amount: '30', unit: 'g' },
      { name: 'é¢ç²‰', amount: '50', unit: 'g' }
    ],
    steps: ['é¸¡è‚ç²‰ä¸Žèš¯èš“ç²‰æ··å?, 'åŠ å…¥è¡€ç²‰å¢žè…?, 'é¢ç²‰è°ƒèŠ‚ç²˜åº¦', 'åŠ æ°´æ‰æˆå›?],
    tips: ['é²¶é±¼å–œæžè…¥å‘³ï¼Œè¶Šè…¥è¶Šå¥?, 'å¤œé—´å‡ºé’“æ•ˆæžœæœ€ä½?],
    rating: 4.7, usageCount: 1654, isGenerated: false, createTime: Date.now()
  },
  {
    id: 'recipe_catfish_002',
    name: 'æ´»é¥µé’“é²¶é±?,
    targetFish: ['é²¶é±¼'],
    waterTypes: ['æ²³æµ'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'æ´»æ³¥é³?, amount: '3-5', unit: 'æ? },
      { name: 'é¸¡è‚', amount: '100', unit: 'g' }
    ],
    steps: ['èš¯èš“æ•´æ¡æŒ‚é’©', 'æ³¥é³…é’©èƒŒéƒ?, 'é¸¡è‚åˆ‡å—æŒ‚é’©'],
    tips: ['æ´»é¥µæ•ˆæžœæœ€å¥?, 'é€‰æ‹©å¤§å·é±¼é’©'],
    rating: 4.8, usageCount: 2134, isGenerated: false, createTime: Date.now()
  },

  // é»„é¢¡é±¼é…æ–?
  {
    id: 'recipe_yellow_catfish_001',
    name: 'é‡Žé’“é»„é¢¡é±¼é¥µ',
    targetFish: ['é»„é¢¡é±?],
    waterTypes: ['æ²³æµ'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'çº¢è™«', amount: 'é€‚é‡', unit: '' },
      { name: 'é¸¡è‚', amount: '50', unit: 'g' }
    ],
    steps: ['èš¯èš“æŽæ®µæŒ‚é’©', 'çº¢è™«ç”¨çº¢è™«å¤¹', 'é¸¡è‚åˆ‡å°å?],
    tips: ['é»„é¢¡é±¼å–œè…¥é¥µ', 'å‚æ™šå’Œå¤œé—´å‡ºé’“æœ€ä½?],
    rating: 4.6, usageCount: 1432, isGenerated: false, createTime: Date.now()
  },

  // é³Šé±¼é…æ–¹
  {
    id: 'recipe_bream_001',
    name: 'æ¸…é¦™é³Šé±¼é¥?,
    targetFish: ['é³Šé±¼'],
    waterTypes: ['æ²³æµ', 'æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'éº¸çš®', amount: '150', unit: 'g' },
      { name: 'çŽ‰ç±³ç²?, amount: '100', unit: 'g' },
      { name: 'é¢ç²‰', amount: '50', unit: 'g' },
      { name: 'èœ‚èœœ', amount: '15', unit: 'ml' }
    ],
    steps: ['éº¸çš®ä¸ŽçŽ‰ç±³ç²‰æ··åˆ', 'åŠ å…¥é¢ç²‰è°ƒèŠ‚ç²˜åº¦', 'èœ‚èœœå¢žç”œ', 'åŠ æ°´è°ƒæˆåˆé€‚çŠ¶æ€?],
    tips: ['é³Šé±¼å–œç´ é¥?, 'é’“ä¸­ä¸Šå±‚æ•ˆæžœå¥?],
    rating: 4.5, usageCount: 1234, isGenerated: false, createTime: Date.now()
  },

  // ç¿˜å˜´é…æ–¹
  {
    id: 'recipe_culter_001',
    name: 'è·¯äºšç¿˜å˜´é¥?,
    targetFish: ['ç¿˜å˜´'],
    waterTypes: ['æ²³æµ', 'æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'æ´»è™¾', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'äº®ç‰‡', amount: '1', unit: 'ä¸? }
    ],
    steps: ['æ´»è™¾é’©å°¾éƒ?, 'å°é±¼é’©èƒŒéƒ?, 'äº®ç‰‡æŠ›æŠ•æ”¶çº¿'],
    tips: ['ç¿˜å˜´æ˜¯æŽ é£Ÿæ€§é±¼ç±?, 'æ™¨æ˜æ—¶æ®µæœ€æ´»è·ƒ', 'è·¯äºšæ•ˆæžœæžä½³'],
    rating: 4.7, usageCount: 1876, isGenerated: false, createTime: Date.now()
  },

  // é©¬å£é…æ–¹
  {
    id: 'recipe_topmouth_001',
    name: 'æºªæµé©¬å£é¥?,
    targetFish: ['é©¬å£'],
    waterTypes: ['æ²³æµ'],
    seasons: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'èš‚èš±', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'èŸ‹èŸ€', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'äº®ç‰‡', amount: '1', unit: 'ä¸? }
    ],
    steps: ['èš‚èš±æˆ–èŸ‹èŸ€ç›´æŽ¥æŒ‚é’©', 'äº®ç‰‡æŠ›æŠ•', 'æºªæµä¸­æ‰¾æ€¥æµå¤?],
    tips: ['é©¬å£å–œæ¬¢æ˜†è™«', 'æºªæµè·¯äºšæ•ˆæžœå¥?, 'é€‰æ‹©å°å·äº®ç‰‡'],
    rating: 4.6, usageCount: 1123, isGenerated: false, createTime: Date.now()
  },

  // é²ƒé±¼é…æ–¹
  {
    id: 'recipe_barbel_001',
    name: 'æ€¥æµé²ƒé±¼é¥?,
    targetFish: ['é²ƒé±¼'],
    waterTypes: ['æ²³æµ'],
    seasons: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'æ´»è™¾', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'èžºè›³ç²?, amount: '30', unit: 'g' }
    ],
    steps: ['èš¯èš“æ•´æ¡æŒ‚é’©', 'æ´»è™¾é’©å°¾', 'èžºè›³ç²‰å¯åšçªæ–?],
    tips: ['é²ƒé±¼å–œæ€¥æµ', 'åœ¨çŸ³ç¼å¤„ä¸‹é’©', 'åŠ›é‡å¤§æ³¨æ„é›é±?],
    rating: 4.4, usageCount: 876, isGenerated: false, createTime: Date.now()
  },

  // èµ¤çœ¼é³Ÿé…æ–?
  {
    id: 'recipe_chub_001',
    name: 'æ²³é’“èµ¤çœ¼é³Ÿé¥µ',
    targetFish: ['èµ¤çœ¼é³?],
    waterTypes: ['æ²³æµ'],
    seasons: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'çŽ‰ç±³ç²?, amount: '100', unit: 'g' },
      { name: 'é¢ç²‰', amount: '50', unit: 'g' },
      { name: 'èœ‚èœœ', amount: '10', unit: 'ml' }
    ],
    steps: ['çŽ‰ç±³ç²‰é¢ç²‰æ··å?, 'åŠ èœ‚èœœå’Œæ°´æ‰æˆå›¢', 'èš¯èš“ä¹Ÿå¯ç›´æŽ¥æŒ‚é’©'],
    tips: ['èµ¤çœ¼é³Ÿæ‚é£Ÿæ€?, 'ç´ é¥µè¤é¥µéƒ½å¯ä»?],
    rating: 4.3, usageCount: 765, isGenerated: false, createTime: Date.now()
  },

  // æ³¥é³…é…æ–¹
  {
    id: 'recipe_loach_001',
    name: 'é’“æ³¥é³…ä¸“ç”¨é¥µ',
    targetFish: ['æ³¥é³…'],
    waterTypes: ['æ²³æµ', 'æ± å¡˜'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'çº¢è™«', amount: 'é€‚é‡', unit: '' }
    ],
    steps: ['èš¯èš“æŽå°æ®µæŒ‚é’?, 'çº¢è™«ç”¨ç»†é’?, 'é€‰æ‹©æ³¥åº•æ°´åŸŸ'],
    tips: ['æ³¥é³…å–œæ³¥åº?, 'ç”¨å°é’©ç»†çº?, 'å¤œé—´æ•ˆæžœå¥?],
    rating: 4.2, usageCount: 543, isGenerated: false, createTime: Date.now()
  },

  // æ²³é³œé…æ–¹
  {
    id: 'recipe_mandarin_river_001',
    name: 'æ´»é¥µé’“æ²³é³?,
    targetFish: ['æ²³é³œ'],
    waterTypes: ['æ²³æµ'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'æ´»æ³¥é³?, amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'æ´»è™¾', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['æ³¥é³…é’©èƒŒéƒ?, 'æ´»è™¾é’©å°¾', 'å°é±¼é’©èƒŒé³ä¸‹æ–?],
    tips: ['é³œé±¼åªåƒæ´»é¥µ', 'é€‰æ‹©æ¸…æ¾ˆæ°´åŸŸ', 'æ™¨æ˜æ—¶æ®µæœ€ä½?],
    rating: 4.7, usageCount: 1234, isGenerated: false, createTime: Date.now()
  },

  // ==================== æ°´åº“é±¼ç§é…æ–¹ ====================
  // é’é±¼é…æ–¹
  {
    id: 'recipe_black_carp_001',
    name: 'èžºè›³é’“é’é±?,
    targetFish: ['é’é±¼'],
    waterTypes: ['æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: '30åˆ†é’Ÿ',
    ingredients: [
      { name: 'ç”°èžº', amount: '500', unit: 'g' },
      { name: 'èžºè›³ç²?, amount: '200', unit: 'g' },
      { name: 'èšŒè‚‰ç²?, amount: '100', unit: 'g' },
      { name: 'çŽ‰ç±³ç²?, amount: '100', unit: 'g' }
    ],
    steps: ['ç”°èžºç ¸ç¢Žåšçªæ–?, 'èžºè›³ç²‰èšŒè‚‰ç²‰æ··åˆåšé¥µ', 'çŽ‰ç±³ç²‰è°ƒèŠ‚çŠ¶æ€?, 'æ•´é¢—èžºè›³ä¹Ÿå¯æŒ‚é’©'],
    tips: ['é’é±¼æœ€çˆ±èžºè›?, 'æ‰“é‡çªå®ˆé’?, 'éœ€è¦è€å¿ƒç­‰å¾…'],
    rating: 4.8, usageCount: 1567, isGenerated: false, createTime: Date.now()
  },

  // é³œé±¼é…æ–¹
  {
    id: 'recipe_mandarin_001',
    name: 'æ´»é¥µé’“é³œé±?,
    targetFish: ['é³œé±¼'],
    waterTypes: ['æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'æ´»æ³¥é³?, amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'æ´»è™¾', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['æ³¥é³…é’©èƒŒéƒ¨ä¿æŒæ´»æ€?, 'æ´»è™¾é’©å°¾éƒ?, 'å°é±¼é’©èƒŒé³ä¸‹æ–?],
    tips: ['é³œé±¼åªè®¤æ´»é¥µ', 'é€‰æ‹©æ°´è´¨æ¸…æ¾ˆå¤?, 'æ™¨æ˜æ—¶æ®µå‡ºé’“'],
    rating: 4.9, usageCount: 2345, isGenerated: false, createTime: Date.now()
  },

  // æ­¦æ˜Œé±¼é…æ–?
  {
    id: 'recipe_wuchang_001',
    name: 'æ¸…é¦™æ­¦æ˜Œé±¼é¥µ',
    targetFish: ['æ­¦æ˜Œé±?],
    waterTypes: ['æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'éº¸çš®', amount: '150', unit: 'g' },
      { name: 'çŽ‰ç±³ç²?, amount: '100', unit: 'g' },
      { name: 'é¢ç²‰', amount: '50', unit: 'g' },
      { name: 'èœ‚èœœ', amount: '15', unit: 'ml' }
    ],
    steps: ['éº¸çš®çŽ‰ç±³ç²‰æ··å?, 'é¢ç²‰è°ƒèŠ‚ç²˜åº¦', 'èœ‚èœœå¢žç”œ', 'åŠ æ°´è°ƒæˆè½¯é¥µ'],
    tips: ['æ­¦æ˜Œé±¼å–œç´ é¥µ', 'é’“ä¸­å±‚æ•ˆæžœå¥½'],
    rating: 4.5, usageCount: 1123, isGenerated: false, createTime: Date.now()
  },

  // å·¨é²¤é…æ–¹
  {
    id: 'recipe_giant_carp_001',
    name: 'æ°´åº“å·¨é²¤é‡çªé¥?,
    targetFish: ['å·¨é²¤'],
    waterTypes: ['æ°´åº“'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£'],
    difficulty: 'å›°éš¾',
    prepTime: 'æå‰1å¤?,
    ingredients: [
      { name: 'å‘é…µçŽ‰ç±³', amount: '2000', unit: 'g' },
      { name: 'çº¢è–¯', amount: '500', unit: 'g' },
      { name: 'çŽ‰ç±³ç²?, amount: '500', unit: 'g' },
      { name: 'è¯é…’', amount: '50', unit: 'ml' },
      { name: 'èœ‚èœœ', amount: '50', unit: 'ml' }
    ],
    steps: ['å‘é…µçŽ‰ç±³æå‰æ³¡åˆ¶', 'çº¢è–¯è’¸ç†Ÿæ£æ³¥', 'çŽ‰ç±³ç²‰åŠ è¯é…’èœ‚èœœ', 'æ··åˆåšçªæ–™å’Œé’“é¥µ'],
    tips: ['é’“å·¨é²¤éœ€è¦é‡çª?, 'æå‰æ‰“çªå…»çª', 'è€å¿ƒå®ˆé’“æ˜¯å…³é”?],
    rating: 4.8, usageCount: 876, isGenerated: false, createTime: Date.now()
  },

  // é»„å°¾é²´é…æ–?
  {
    id: 'recipe_yellow_cheek_001',
    name: 'æ°´åº“é»„å°¾é²´é¥µ',
    targetFish: ['é»„å°¾é²?],
    waterTypes: ['æ°´åº“'],
    seasons: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'æ··åˆé¢—ç²’', amount: '150', unit: 'g' },
      { name: 'éº¸çš®', amount: '50', unit: 'g' },
      { name: 'æ‹‰ä¸ç²?, amount: '30', unit: 'g' },
      { name: 'èš¯èš“ç²?, amount: '20', unit: 'g' }
    ],
    steps: ['é¢—ç²’æ³¡è½¯', 'åŠ å…¥éº¸çš®å’Œèš¯èš“ç²‰', 'æ‹‰ä¸ç²‰è°ƒèŠ‚çŠ¶æ€?],
    tips: ['é»„å°¾é²´å–œåˆ®é£Ÿè—»ç±»', 'é€‰æ‹©æœ‰çŸ³å¤´çš„é’“ç‚¹'],
    rating: 4.4, usageCount: 765, isGenerated: false, createTime: Date.now()
  },

  // é²®é±¼é…æ–¹
  {
    id: 'recipe_catla_001',
    name: 'å—æ–¹é²®é±¼ä¸“ç”¨é¥?,
    targetFish: ['é²®é±¼'],
    waterTypes: ['æ°´åº“'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: '10åˆ†é’Ÿ',
    ingredients: [
      { name: 'èŠ±ç”Ÿç²?, amount: '150', unit: 'g' },
      { name: 'éº¸çš®', amount: '100', unit: 'g' },
      { name: 'çŽ‰ç±³ç²?, amount: '50', unit: 'g' },
      { name: 'æ‹‰ä¸ç²?, amount: '30', unit: 'g' }
    ],
    steps: ['èŠ±ç”Ÿç²‰ä¸Žéº¸çš®æ··åˆ', 'åŠ å…¥çŽ‰ç±³ç²?, 'æ‹‰ä¸ç²‰è°ƒèŠ‚çŠ¶æ€?, 'åŠ æ°´å¼€é¥?],
    tips: ['é²®é±¼æœ€çˆ±èŠ±ç”Ÿéº¸', 'å—æ–¹æ°´åº“å¸¸è§é±¼ç§'],
    rating: 4.6, usageCount: 1234, isGenerated: false, createTime: Date.now()
  },

  // å¤§å£é»‘é²ˆé…æ–¹
  {
    id: 'recipe_bass_001',
    name: 'è·¯äºšé»‘é²ˆé¥?,
    targetFish: ['å¤§å£é»‘é²ˆ'],
    waterTypes: ['æ°´åº“', 'æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'è½¯è™«', amount: 'è‹¥å¹²', unit: 'ä¸? },
      { name: 'æ´»è™¾', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['è½¯è™«å¾·å·žé’“ç»„', 'æ´»è™¾ç›´æŽ¥æŒ‚é’©', 'å°é±¼é’©èƒŒéƒ?],
    tips: ['é»‘é²ˆæ˜¯è·¯äºšçƒ­é—¨å¯¹è±¡é±¼', 'æ™¨æ˜æ—¶æ®µæœ€æ´»è·ƒ', 'éšœç¢ç‰©æ—æ˜¯å¥½é’“ç‚¹'],
    rating: 4.8, usageCount: 2567, isGenerated: false, createTime: Date.now()
  },

  // ==================== æ¹–æ³Šé±¼ç§é…æ–¹ ====================
  // é»‘é±¼é…æ–¹
  {
    id: 'recipe_snakehead_001',
    name: 'é›·è›™é’“é»‘é±?,
    targetFish: ['é»‘é±¼'],
    waterTypes: ['æ¹–æ³Š', 'æ± å¡˜'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'é›·è›™', amount: '1', unit: 'ä¸? },
      { name: 'æ´»é’è›?, amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'æ´»æ³¥é³?, amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['é›·è›™æŠ›æŠ•åˆ°æ°´è‰åŒº', 'é’è›™é’©èƒŒéƒ?, 'æ³¥é³…é’©èƒŒéƒ?],
    tips: ['é»‘é±¼å–œè—æ°´è‰ä¸?, 'é›·è›™æ‰“é»‘æ•ˆæžœæžä½³', 'å¤å­£æœ€æ´»è·ƒ'],
    rating: 4.9, usageCount: 2876, isGenerated: false, createTime: Date.now()
  },

  // ç‹—é±¼é…æ–¹
  {
    id: 'recipe_pike_001',
    name: 'åŒ—æ–¹ç‹—é±¼é¥?,
    targetFish: ['ç‹—é±¼'],
    waterTypes: ['æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£', 'å†¬å­£'],
    difficulty: 'å›°éš¾',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'å¤§åž‹è½¯è™«', amount: 'è‹¥å¹²', unit: 'ä¸? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'äº®ç‰‡', amount: '1', unit: 'ä¸? }
    ],
    steps: ['å¤§åž‹è½¯è™«æŒ‚é’©', 'å°é±¼é’©èƒŒéƒ?, 'äº®ç‰‡å¿«é€Ÿæ”¶çº?],
    tips: ['ç‹—é±¼æ˜¯é¡¶çº§æŽ é£Ÿè€?, 'åŒ—æ–¹æ¹–æ³Šç‰¹æœ‰', 'å†¬å­£å†°é’“ä¹Ÿå¯'],
    rating: 4.6, usageCount: 543, isGenerated: false, createTime: Date.now()
  },

  // é²ˆé±¼é…æ–¹
  {
    id: 'recipe_perch_001',
    name: 'æ¹–é’“é²ˆé±¼é¥?,
    targetFish: ['é²ˆé±¼'],
    waterTypes: ['æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'æ´»è™¾', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['æ´»è™¾é’©å°¾éƒ?, 'å°é±¼é’©èƒŒéƒ?, 'èš¯èš“æ•´æ¡æŒ‚é’©'],
    tips: ['é²ˆé±¼å–œæ¸…æ¾ˆæ°´è´?, 'æ´»é¥µæ•ˆæžœæœ€å¥?],
    rating: 4.5, usageCount: 876, isGenerated: false, createTime: Date.now()
  },

  // é“¶é±¼é…æ–¹
  {
    id: 'recipe_whitebait_001',
    name: 'é“¶é±¼ä¸“ç”¨é¥?,
    targetFish: ['é“¶é±¼'],
    waterTypes: ['æ¹–æ³Š'],
    seasons: ['æ˜¥å­£', 'ç§‹å­£'],
    difficulty: 'å›°éš¾',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'çº¢è™«', amount: 'é€‚é‡', unit: '' },
      { name: 'å°è™«', amount: 'è‹¥å¹²', unit: 'å? }
    ],
    steps: ['çº¢è™«ç”¨æžç»†é’©', 'å°è™«ç›´æŽ¥æŒ‚é’©', 'ç”¨æžç»†çº¿ç»?],
    tips: ['é“¶é±¼ä½“åž‹æžå°', 'éœ€è¦ä¸“é—¨é’“ç»?, 'å¤ªæ¹–ç‰¹äº§'],
    rating: 4.2, usageCount: 234, isGenerated: false, createTime: Date.now()
  },

  // çº¢é³é²Œé…æ–?
  {
    id: 'recipe_redfin_001',
    name: 'çº¢é³é²Œè·¯äºšé¥µ',
    targetFish: ['çº¢é³é²?],
    waterTypes: ['æ¹–æ³Š', 'æ²³æµ'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'äº®ç‰‡', amount: '1', unit: 'ä¸? },
      { name: 'æ´»è™¾', amount: 'è‹¥å¹²', unit: 'å? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['äº®ç‰‡æŠ›æŠ•æ”¶çº¿', 'æ´»è™¾é’©å°¾', 'å°é±¼é’©èƒŒéƒ?],
    tips: ['çº¢é³é²Œæ”»å‡»æ€§å¼º', 'è·¯äºšæ•ˆæžœå¥?, 'è¡¨å±‚ä½œé’“'],
    rating: 4.5, usageCount: 765, isGenerated: false, createTime: Date.now()
  },

  // ç”²é±¼é…æ–¹
  {
    id: 'recipe_turtle_001',
    name: 'å¤œé’“ç”²é±¼é¥?,
    targetFish: ['ç”²é±¼'],
    waterTypes: ['æ¹–æ³Š', 'æ± å¡˜'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'é¸¡è‚', amount: '200', unit: 'g' },
      { name: 'çŒªè‚ç²?, amount: '50', unit: 'g' },
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['é¸¡è‚åˆ‡å—æŒ‚é’©', 'çŒªè‚ç²‰å¯åšçªæ–?, 'èš¯èš“ä¹Ÿå¯ä½¿ç”¨'],
    tips: ['ç”²é±¼å¤œé—´æ´»åŠ¨', 'å–œæžè…¥å‘³', 'éœ€è¦ä¸“é—¨é’“ç»?],
    rating: 4.4, usageCount: 654, isGenerated: false, createTime: Date.now()
  },

  // é»„é³é…æ–¹
  {
    id: 'recipe_eel_001',
    name: 'é’“é»„é³ä¸“ç”¨é¥µ',
    targetFish: ['é»„é³'],
    waterTypes: ['æ¹–æ³Š', 'æ± å¡˜', 'æ²³æµ'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ä¸­ç­‰',
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'å°é±¼', amount: 'è‹¥å¹²', unit: 'æ? }
    ],
    steps: ['èš¯èš“æ•´æ¡æŒ‚é’©', 'å°é±¼åˆ‡æ®µ', 'æ‰¾æ´žç©´ä¸‹é’?],
    tips: ['é»„é³ç©´å±…', 'å¤œé—´å‡ºæ´žè§…é£Ÿ', 'éœ€è¦ä¸“é—¨é’“æ³?],
    rating: 4.3, usageCount: 432, isGenerated: false, createTime: Date.now()
  },

  // æ²³èŸ¹é…æ–¹
  {
    id: 'recipe_crab_001',
    name: 'ç§‹å­£é’“æ²³èŸ?,
    targetFish: ['æ²³èŸ¹'],
    waterTypes: ['æ¹–æ³Š'],
    seasons: ['ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'é¸¡è‚', amount: '100', unit: 'g' },
      { name: 'é±¼è‚‰', amount: '100', unit: 'g' },
      { name: 'çŽ‰ç±³ç²?, amount: '50', unit: 'g' }
    ],
    steps: ['é¸¡è‚åˆ‡å—æ”¾èŸ¹ç¬?, 'é±¼è‚‰åšè¯±é¥?, 'çŽ‰ç±³ç²’è¾…åŠ?],
    tips: ['ç§‹å­£æ²³èŸ¹æœ€è‚?, 'å¤œé—´æ´»åŠ¨', 'ç”¨èŸ¹ç¬¼æ•ˆæžœå¥½'],
    rating: 4.5, usageCount: 876, isGenerated: false, createTime: Date.now()
  },

  // æ²³è™¾é…æ–¹
  {
    id: 'recipe_shrimp_001',
    name: 'é’“æ²³è™¾é¥µæ–?,
    targetFish: ['æ²³è™¾'],
    waterTypes: ['æ¹–æ³Š', 'æ²³æµ'],
    seasons: ['å¤å­£', 'ç§‹å­£'],
    difficulty: 'ç®€å?,
    prepTime: 'å³ç”¨',
    ingredients: [
      { name: 'èš¯èš“', amount: 'è‹¥å¹²', unit: 'æ? },
      { name: 'çº¢è™«', amount: 'é€‚é‡', unit: '' },
      { name: 'é¢ç²‰å›?, amount: 'å°‘é‡', unit: '' }
    ],
    steps: ['èš¯èš“æŽå°æ®?, 'çº¢è™«ç›´æŽ¥ç”?, 'é¢ç²‰å›¢åšçª?],
    tips: ['æ²³è™¾å¤œé—´æ´»åŠ¨', 'ç”¨è™¾ç¬¼æ•ˆæžœå¥½', 'å¯ä½œä¸ºé’“é¥?],
    rating: 4.2, usageCount: 543, isGenerated: false, createTime: Date.now()
  }
];


export class RecipeService {
  private static instance: RecipeService;
  private recipes: Recipe[] = RECIPE_DATABASE;
  private favorites: string[] = [];

  private constructor() {}

  public static getInstance(): RecipeService {
    if (!RecipeService.instance) {
      RecipeService.instance = new RecipeService();
    }
    return RecipeService.instance;
  }

  // èŽ·å–æ‰€æœ‰é…æ–?
  public getAllRecipes(): Recipe[] {
    return this.recipes;
  }

  // æ ¹æ®æ°´åŸŸç±»åž‹ç­›é€?
  public getRecipesByWaterType(waterType: string): Recipe[] {
    if (waterType === 'all') {
      return this.recipes;
    }
    return this.recipes.filter((r: Recipe) => r.waterTypes.includes(waterType));
  }

  // æ ¹æ®ç›®æ ‡é±¼ç§ç­›é€?
  public getRecipesByFish(fishName: string): Recipe[] {
    if (fishName === 'all') {
      return this.recipes;
    }
    return this.recipes.filter((r: Recipe) => r.targetFish.includes(fishName));
  }

  // æ ¹æ®IDèŽ·å–é…æ–¹
  public getRecipeById(id: string): Recipe | undefined {
    return this.recipes.find((r: Recipe) => r.id === id);
  }

  // æ·»åŠ é…æ–¹åˆ°é…æ–¹åº“
  public addRecipe(recipe: Recipe): void {
    // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨åŒåé…æ–¹
    const exists = this.recipes.find((r: Recipe) => r.name === recipe.name);
    if (!exists) {
      this.recipes.unshift(recipe);  // æ·»åŠ åˆ°åˆ—è¡¨å¼€å¤?
    }
  }

  // æ™ºèƒ½ç”Ÿæˆé…æ–¹
  public generateRecipe(params: GenerateParams): Recipe {
    const id = `gen_${Date.now()}`;
    const baseIngredients = this.getBaseIngredients(params);
    const steps = this.generateSteps(params);
    const tips = this.generateTips(params);

    const recipe: Recipe = {
      id: id,
      name: `${params.season}${params.targetFish}ä¸“ç”¨é¥µ`,
      targetFish: [params.targetFish],
      waterTypes: [params.waterType],
      seasons: [params.season],
      difficulty: 'ä¸­ç­‰',
      prepTime: '15åˆ†é’Ÿ',
      ingredients: baseIngredients,
      steps: steps,
      tips: tips,
      rating: 0,
      usageCount: 0,
      isGenerated: true,
      createTime: Date.now()
    };

    return recipe;
  }

  private getBaseIngredients(params: GenerateParams): Ingredient[] {
    const ingredients: Ingredient[] = [];

    // åŸºç¡€é¥µæ–™
    if (params.targetFish === 'é²¤é±¼' || params.targetFish === 'è‰é±¼') {
      ingredients.push({ name: 'çŽ‰ç±³ç²?, amount: '200', unit: 'g' });
      ingredients.push({ name: 'éº¦éº¸', amount: '100', unit: 'g' });
    } else if (params.targetFish === 'é²«é±¼') {
      ingredients.push({ name: 'çº¢è™«ç²?, amount: '150', unit: 'g' });
      ingredients.push({ name: 'æ‹‰ä¸ç²?, amount: '50', unit: 'g' });
    } else {
      ingredients.push({ name: 'å•†å“é¥?, amount: '200', unit: 'g' });
    }

    // å­£èŠ‚è°ƒæ•´
    if (params.season === 'å¤å­£') {
      ingredients.push({ name: 'æžœé…¸', amount: '5', unit: 'ml' });
    } else if (params.season === 'å†¬å­£' || params.season === 'ç§‹å­£') {
      ingredients.push({ name: 'è™¾ç²‰', amount: '30', unit: 'g' });
    }

    ingredients.push({ name: 'èœ‚èœœ', amount: '20', unit: 'ml' });

    return ingredients;
  }

  private generateSteps(params: GenerateParams): string[] {
    return [
      'å°†ä¸»æ–™æ··åˆå‡åŒ€',
      'åŠ å…¥é€‚é‡æ¸©æ°´ï¼Œæ…æ‹Œæˆç³ŠçŠ¶',
      'åŠ å…¥è¾…æ–™ï¼Œå……åˆ†æ…æ‹?,
      'æ‰æˆè½¯ç¡¬é€‚ä¸­çš„é¢å›?,
      'é™ç½®10-15åˆ†é’ŸåŽä½¿ç”?
    ];
  }

  private generateTips(params: GenerateParams): string[] {
    const tips: string[] = [];

    if (params.season === 'å¤å­£') {
      tips.push('å¤å­£é±¼åçˆ±æ¸…æ·¡å£å‘³ï¼Œå¯é€‚å½“å¢žåŠ æžœé…¸');
    } else if (params.season === 'å†¬å­£') {
      tips.push('å†¬å­£é±¼æ´»æ€§ä½Žï¼Œé¥µæ–™è¦è½¯ï¼Œå‘³é“è¦æµ“');
    }

    if (params.waterType === 'æ°´åº“') {
      tips.push('æ°´åº“æ°´æ·±ï¼Œå»ºè®®æ­é…æ‰“çªæ–™ä½¿ç”¨');
    }

    tips.push('æ ¹æ®å®žé™…æƒ…å†µè°ƒæ•´é¥µæ–™è½¯ç¡¬åº?);

    return tips;
  }

  // æ”¶è—ç®¡ç†
  public addFavorite(recipeId: string): void {
    if (!this.favorites.includes(recipeId)) {
      this.favorites.push(recipeId);
    }
  }

  public removeFavorite(recipeId: string): void {
    const index = this.favorites.indexOf(recipeId);
    if (index > -1) {
      this.favorites.splice(index, 1);
    }
  }

  public isFavorite(recipeId: string): boolean {
    return this.favorites.includes(recipeId);
  }

  public getFavorites(): Recipe[] {
    return this.recipes.filter((r: Recipe) => this.favorites.includes(r.id));
  }
}
