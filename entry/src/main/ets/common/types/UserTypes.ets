/**
 * é¥µçŸ¥é?- ç”¨æˆ·ç›¸å…³ç±»å‹å®šä¹‰
 */

// ç”¨æˆ·ç­‰çº§æšä¸¾
export enum UserLevel {
  NOVICE = 1,      // æ–°æ‰‹é’“å‹
  BEGINNER = 2,    // å…¥é—¨é’“æ‰‹
  SKILLED = 3,     // ç†Ÿç»ƒé’“æ‰‹
  EXPERT = 4,      // é’“é±¼é«˜æ‰‹
  MASTER = 5       // å‚é’“å¤§å¸ˆ
}

// ç­‰çº§é…ç½®
export class LevelConfig {
  level: UserLevel = UserLevel.NOVICE;
  title: string = '';
  minExp: number = 0;
  maxExp: number = 0;
  icon: string = '';

  constructor() {}

  static create(level: UserLevel, title: string, minExp: number, maxExp: number, icon: string): LevelConfig {
    const config = new LevelConfig();
    config.level = level;
    config.title = title;
    config.minExp = minExp;
    config.maxExp = maxExp;
    config.icon = icon;
    return config;
  }
}

// ç­‰çº§é…ç½®è¡?
export const LEVEL_CONFIGS: LevelConfig[] = [
  LevelConfig.create(UserLevel.NOVICE, 'æ–°æ‰‹é’“å‹', 0, 100, 'ğŸ£'),
  LevelConfig.create(UserLevel.BEGINNER, 'å…¥é—¨é’“æ‰‹', 100, 500, 'ğŸŸ'),
  LevelConfig.create(UserLevel.SKILLED, 'ç†Ÿç»ƒé’“æ‰‹', 500, 1500, 'ğŸ '),
  LevelConfig.create(UserLevel.EXPERT, 'é’“é±¼é«˜æ‰‹', 1500, 5000, 'ğŸ¦ˆ'),
  LevelConfig.create(UserLevel.MASTER, 'å‚é’“å¤§å¸ˆ', 5000, 999999, 'ğŸ‘‘')
];

// ç”¨æˆ·ä¿¡æ¯
export class UserProfile {
  id: string = '';
  nickname: string = 'é’“é±¼ä½?;
  avatar: string = '';
  level: UserLevel = UserLevel.NOVICE;
  levelTitle: string = 'æ–°æ‰‹é’“å‹';
  experience: number = 0;
  totalCatch: number = 0;        // æ€»æ¸”è·é‡é‡?(kg)
  totalTrips: number = 0;        // æ€»å‡ºé’“æ¬¡æ•?
  totalFish: number = 0;         // æ€»é’“è·å°¾æ•?
  bestRecord: number = 0;        // æœ€ä½³å•å°¾è®°å½?(kg)
  activeDays: number = 0;        // æ´»è·ƒå¤©æ•°
  favoriteCount: number = 0;     // æ”¶è—æ•°é‡
  recipeUseCount: number = 0;    // é…æ–¹ä½¿ç”¨æ¬¡æ•°
  createTime: number = 0;
  updateTime: number = 0;

  constructor() {
    this.id = `user_${Date.now()}`;
    this.createTime = Date.now();
    this.updateTime = Date.now();
  }
}

// æ¸”è·è®°å½•
export class FishingRecord {
  id: string = '';
  date: number = 0;              // æ—¶é—´æˆ?
  dateStr: string = '';          // æ˜¾ç¤ºç”¨æ—¥æœŸå­—ç¬¦ä¸²
  location: string = '';
  weather: string = 'æ™´æœ—';
  fishName: string = '';
  fishIcon: string = 'ğŸŸ';
  weight: number = 0;            // æ€»é‡é‡?kg
  count: number = 0;             // å°¾æ•°
  maxSingle: number = 0;         // æœ€å¤§å•å°?kg
  recipeId: string = '';
  recipeName: string = '';
  notes: string = '';
  photos: string[] = [];
  createTime: number = 0;
  updateTime: number = 0;

  constructor() {
    this.id = `record_${Date.now()}_${Math.random().toString(36).substring(2, 6)}`;
    this.date = Date.now();
    this.createTime = Date.now();
    this.updateTime = Date.now();
  }
}

// ç”Ÿæˆå†å²è®°å½•
export class GeneratorHistory {
  id: string = '';
  recipeId: string = '';
  recipeName: string = '';
  targetFish: string = '';
  waterType: string = '';
  season: string = '';
  createTime: number = 0;

  constructor() {
    this.id = `history_${Date.now()}`;
    this.createTime = Date.now();
  }
}
