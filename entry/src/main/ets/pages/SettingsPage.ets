/**
 * é¥µçŸ¥é?- è®¾ç½®é¡µé¢
 */
import { ThemeColors } from '../theme/ThemeColors';
import { ThemeConstants } from '../theme/ThemeConstants';
import { Router } from '../router/Router';
import { AppConstants } from '../common/constants/AppConstants';

@Entry
@Component
struct SettingsPage {
  @State cacheSize: string = '12.5 MB';

  build() {
    Column() {
      this.HeaderBar()

      Scroll() {
        Column({ space: ThemeConstants.SPACE_MD }) {
          // æ•°æ®ç®¡ç†
          this.DataSection()

          // å…³äºŽ
          this.AboutSection()
        }
        .padding({ left: ThemeConstants.SPACE_MD, right: ThemeConstants.SPACE_MD, bottom: 40 })
      }
      .layoutWeight(1)
      .scrollBar(BarState.Off)
    }
    .width('100%')
    .height('100%')
    .backgroundColor(ThemeColors.BG_PRIMARY)
  }

  @Builder
  HeaderBar() {
    Row() {
      Image($r('app.media.Left'))
        .width(24)
        .height(24)
        .fillColor(ThemeColors.TEXT_PRIMARY)
        .onClick(() => Router.back())

      Blank()

      Text('è®¾ç½®')
        .fontSize(ThemeConstants.FONT_SIZE_LG)
        .fontWeight(FontWeight.Medium)
        .fontColor(ThemeColors.TEXT_PRIMARY)

      Blank()

      Row().width(24)
    }
    .width('100%')
    .height(56)
    .padding({ left: 16, right: 16, top: 40 })
  }


  @Builder
  DataSection() {
    Column({ space: 1 }) {
      Text('æ•°æ®ç®¡ç†')
        .fontSize(ThemeConstants.FONT_SIZE_SM)
        .fontColor(ThemeColors.TEXT_SECONDARY)
        .width('100%')
        .margin({ bottom: 8 })

      Column({ space: 1 }) {
        // æ¸…é™¤ç¼“å­˜
        Row() {
          Column({ space: 2 }) {
            Text('æ¸…é™¤ç¼“å­˜')
              .fontSize(ThemeConstants.FONT_SIZE_MD)
              .fontColor(ThemeColors.TEXT_PRIMARY)
            Text(`å½“å‰ç¼“å­˜: ${this.cacheSize}`)
              .fontSize(ThemeConstants.FONT_SIZE_XS)
              .fontColor(ThemeColors.TEXT_SECONDARY)
          }
          .alignItems(HorizontalAlign.Start)

          Blank()

          Text('æ¸…é™¤')
            .fontSize(ThemeConstants.FONT_SIZE_SM)
            .fontColor(ThemeColors.PRIMARY_DARK)
        }
        .width('100%')
        .height(64)
        .padding({ left: ThemeConstants.SPACE_MD, right: ThemeConstants.SPACE_MD })
        .backgroundColor(ThemeColors.BG_CARD)
        .onClick(() => {
          this.cacheSize = '0 MB';
        })

        // å¯¼å‡ºæ•°æ®
        Row() {
          Column({ space: 2 }) {
            Text('å¯¼å‡ºæ•°æ®')
              .fontSize(ThemeConstants.FONT_SIZE_MD)
              .fontColor(ThemeColors.TEXT_PRIMARY)
            Text('å¯¼å‡ºé…æ–¹å’Œè®°å½?)
              .fontSize(ThemeConstants.FONT_SIZE_XS)
              .fontColor(ThemeColors.TEXT_SECONDARY)
          }
          .alignItems(HorizontalAlign.Start)

          Blank()

          Text('>')
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_MUTED)
        }
        .width('100%')
        .height(64)
        .padding({ left: ThemeConstants.SPACE_MD, right: ThemeConstants.SPACE_MD })
        .backgroundColor(ThemeColors.BG_CARD)

        // é‡ç½®æ•°æ®
        Row() {
          Column({ space: 2 }) {
            Text('é‡ç½®æ•°æ®')
              .fontSize(ThemeConstants.FONT_SIZE_MD)
              .fontColor(ThemeColors.ERROR)
            Text('æ¸…é™¤æ‰€æœ‰æœ¬åœ°æ•°æ?)
              .fontSize(ThemeConstants.FONT_SIZE_XS)
              .fontColor(ThemeColors.TEXT_SECONDARY)
          }
          .alignItems(HorizontalAlign.Start)

          Blank()

          Text('>')
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_MUTED)
        }
        .width('100%')
        .height(64)
        .padding({ left: ThemeConstants.SPACE_MD, right: ThemeConstants.SPACE_MD })
        .backgroundColor(ThemeColors.BG_CARD)
      }
      .borderRadius(ThemeConstants.RADIUS_MD)
      .clip(true)
    }
  }

  @Builder
  AboutSection() {
    Column({ space: 1 }) {
      Text('å…³äºŽ')
        .fontSize(ThemeConstants.FONT_SIZE_SM)
        .fontColor(ThemeColors.TEXT_SECONDARY)
        .width('100%')
        .margin({ bottom: 8 })

      Column({ space: 1 }) {
        Row() {
          Text('ç‰ˆæœ¬')
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_PRIMARY)
          Blank()
          Text(AppConstants.APP_VERSION)
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_SECONDARY)
        }
        .width('100%')
        .height(52)
        .padding({ left: ThemeConstants.SPACE_MD, right: ThemeConstants.SPACE_MD })
        .backgroundColor(ThemeColors.BG_CARD)

        Row() {
          Text('éšç§æ”¿ç­–')
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_PRIMARY)
          Blank()
          Text('>')
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_MUTED)
        }
        .width('100%')
        .height(52)
        .padding({ left: ThemeConstants.SPACE_MD, right: ThemeConstants.SPACE_MD })
        .backgroundColor(ThemeColors.BG_CARD)

        Row() {
          Text('ç”¨æˆ·åè®®')
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_PRIMARY)
          Blank()
          Text('>')
            .fontSize(ThemeConstants.FONT_SIZE_MD)
            .fontColor(ThemeColors.TEXT_MUTED)
        }
        .width('100%')
        .height(52)
        .padding({ left: ThemeConstants.SPACE_MD, right: ThemeConstants.SPACE_MD })
        .backgroundColor(ThemeColors.BG_CARD)
      }
      .borderRadius(ThemeConstants.RADIUS_MD)
      .clip(true)
    }
  }
}
